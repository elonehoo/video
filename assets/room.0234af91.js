var zo=Object.defineProperty;var qo=(e,t,o)=>t in e?zo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var ze=(e,t,o)=>(qo(e,typeof t!="symbol"?t+"":t,o),o);import{P as Nt,o as ie,am as Ko,a as nt,j as J,M as ro,d as N,c as S,b as c,e as _,R as ue,h as b,w as D,k as ne,v as re,u as s,f as p,y as w,t as Y,$ as Et,U as lo,J as vt,r as k,a2 as Wo,F as te,i as x,Y as Ie,g as B,Z as Ne,K as gt,a0 as co,L as Yt,W as ve,m as Ue,ak as Go,a6 as Yo,ac as he,S as Qo,C as Xe,aj as Qe,I as Xo,an as Qt,ao as Jo,ap as Je,aq as ht,a4 as Zo,a5 as Ye,G as Xt,E as en,ad as tn,s as Q,ai as Ae,p as We,n as Ge,_ as se,z as Re,O as on,al as nn,l as sn,x as ft,q as an}from"./index.16972d0e.js";import{e as _t,f as Oe,g as je,i as Ze,_ as we,w as lt,h as fo,j as tt,l as po,k as Ot,m as jt,n as un,o as mo,p as Vt,q as ke,r as rn,s as vo,t as be,v as ln,x as cn,y as dn,z as go,C as fn,F as pn,B as mn,D as vn,G as gn,H as ho,J as _o,K as yo,L as wt,M as Le,N as ut,O as hn,P as _n,Q as bo,R as Mt,W as $t,X as Rt,Y as yn,Z as bn,$ as En,a0 as Cn,a1 as Pt,a2 as yt,a3 as An,a4 as Sn,a5 as Eo,a6 as In,a7 as Co,a8 as Bn,a9 as kn,aa as Fn,ab as Jt,ac as wn,ad as Mn,ae as Z,u as Me,d as ae,af as K,U as $n,ag as ee,ah as pe,T as h,ai as Rn,aj as Ao,A as So,ak as xn,al as Tn,E as L,am as Dn,I as xe,c as Io,b as G,an as oe,V as Bo,ao as et,ap as Ln,aq as Un,ar as Ht,as as Nn,a as On,S as Zt,at}from"./AudioIcon.2e742d7d.js";const jn='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',Vn=e=>getComputedStyle(e).position==="fixed"?!1:e.offsetParent!==null,eo=e=>Array.from(e.querySelectorAll(jn)).filter(t=>Pn(t)&&Vn(t)),Pn=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},Hn=(...e)=>t=>{e.forEach(o=>{Nt(o)?o(t):o.value=t})},ko=Symbol("buttonGroupContextKey"),Fo=Symbol("dialogInjectionKey"),wo=(e,t,o)=>{let n={offsetX:0,offsetY:0};const a=r=>{const l=r.clientX,f=r.clientY,{offsetX:g,offsetY:d}=n,v=e.value.getBoundingClientRect(),C=v.left,U=v.top,T=v.width,A=v.height,m=document.documentElement.clientWidth,F=document.documentElement.clientHeight,I=-C+g,M=-U+d,V=m-C-T+g,y=F-U-A+d,O=P=>{const le=Math.min(Math.max(g+P.clientX-l,I),V),Ee=Math.min(Math.max(d+P.clientY-f,M),y);n={offsetX:le,offsetY:Ee},e.value.style.transform=`translate(${_t(le)}, ${_t(Ee)})`},j=()=>{document.removeEventListener("mousemove",O),document.removeEventListener("mouseup",j)};document.addEventListener("mousemove",O),document.addEventListener("mouseup",j)},u=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",a)},i=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",a)};ie(()=>{Ko(()=>{o.value?u():i()})}),nt(()=>{i()})},zn=(e,t)=>{let o;J(()=>e.value,n=>{var a,u;n?(o=document.activeElement,ro(t)&&((u=(a=t.value).focus)==null||u.call(a))):o.focus()})},qn=Oe({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),Kn=["textContent"],Wn={name:"ElBadge"},Gn=N({...Wn,props:qn,setup(e,{expose:t}){const o=e,n=je("badge"),a=S(()=>o.isDot?"":Ze(o.value)&&Ze(o.max)?o.max<o.value?`${o.max}+`:`${o.value}`:`${o.value}`);return t({content:a}),(u,i)=>(c(),_("div",{class:w(s(n).b())},[ue(u.$slots,"default"),b(Et,{name:`${s(n).namespace.value}-zoom-in-center`,persisted:""},{default:D(()=>[ne(p("sup",{class:w([s(n).e("content"),s(n).em("content",u.type),s(n).is("fixed",!!u.$slots.default),s(n).is("dot",u.isDot)]),textContent:Y(s(a))},null,10,Kn),[[re,!u.hidden&&(s(a)||u.isDot)]])]),_:1},8,["name"])],2))}});var Yn=we(Gn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const Qn=lt(Yn),Xn=["default","primary","success","warning","info","danger","text",""],Jn=["button","submit","reset"],xt=Oe({size:fo,disabled:Boolean,type:{type:String,values:Xn,default:""},icon:{type:tt,default:""},nativeType:{type:String,values:Jn,default:"button"},loading:Boolean,loadingIcon:{type:tt,default:()=>po},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0}}),Zn={click:e=>e instanceof MouseEvent};function de(e,t){es(e)&&(e="100%");var o=ts(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),o&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function pt(e){return Math.min(1,Math.max(0,e))}function es(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function ts(e){return typeof e=="string"&&e.indexOf("%")!==-1}function Mo(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function mt(e){return e<=1?"".concat(Number(e)*100,"%"):e}function qe(e){return e.length===1?"0"+e:String(e)}function os(e,t,o){return{r:de(e,255)*255,g:de(t,255)*255,b:de(o,255)*255}}function to(e,t,o){e=de(e,255),t=de(t,255),o=de(o,255);var n=Math.max(e,t,o),a=Math.min(e,t,o),u=0,i=0,r=(n+a)/2;if(n===a)i=0,u=0;else{var l=n-a;switch(i=r>.5?l/(2-n-a):l/(n+a),n){case e:u=(t-o)/l+(t<o?6:0);break;case t:u=(o-e)/l+2;break;case o:u=(e-t)/l+4;break}u/=6}return{h:u,s:i,l:r}}function It(e,t,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?e+(t-e)*(6*o):o<1/2?t:o<2/3?e+(t-e)*(2/3-o)*6:e}function ns(e,t,o){var n,a,u;if(e=de(e,360),t=de(t,100),o=de(o,100),t===0)a=o,u=o,n=o;else{var i=o<.5?o*(1+t):o+t-o*t,r=2*o-i;n=It(r,i,e+1/3),a=It(r,i,e),u=It(r,i,e-1/3)}return{r:n*255,g:a*255,b:u*255}}function oo(e,t,o){e=de(e,255),t=de(t,255),o=de(o,255);var n=Math.max(e,t,o),a=Math.min(e,t,o),u=0,i=n,r=n-a,l=n===0?0:r/n;if(n===a)u=0;else{switch(n){case e:u=(t-o)/r+(t<o?6:0);break;case t:u=(o-e)/r+2;break;case o:u=(e-t)/r+4;break}u/=6}return{h:u,s:l,v:i}}function ss(e,t,o){e=de(e,360)*6,t=de(t,100),o=de(o,100);var n=Math.floor(e),a=e-n,u=o*(1-t),i=o*(1-a*t),r=o*(1-(1-a)*t),l=n%6,f=[o,i,u,u,r,o][l],g=[r,o,o,i,u,u][l],d=[u,u,r,o,o,i][l];return{r:f*255,g:g*255,b:d*255}}function no(e,t,o,n){var a=[qe(Math.round(e).toString(16)),qe(Math.round(t).toString(16)),qe(Math.round(o).toString(16))];return n&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function as(e,t,o,n,a){var u=[qe(Math.round(e).toString(16)),qe(Math.round(t).toString(16)),qe(Math.round(o).toString(16)),qe(us(n))];return a&&u[0].startsWith(u[0].charAt(1))&&u[1].startsWith(u[1].charAt(1))&&u[2].startsWith(u[2].charAt(1))&&u[3].startsWith(u[3].charAt(1))?u[0].charAt(0)+u[1].charAt(0)+u[2].charAt(0)+u[3].charAt(0):u.join("")}function us(e){return Math.round(parseFloat(e)*255).toString(16)}function so(e){return Ce(e)/255}function Ce(e){return parseInt(e,16)}function is(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var Tt={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function rs(e){var t={r:0,g:0,b:0},o=1,n=null,a=null,u=null,i=!1,r=!1;return typeof e=="string"&&(e=ds(e)),typeof e=="object"&&(De(e.r)&&De(e.g)&&De(e.b)?(t=os(e.r,e.g,e.b),i=!0,r=String(e.r).substr(-1)==="%"?"prgb":"rgb"):De(e.h)&&De(e.s)&&De(e.v)?(n=mt(e.s),a=mt(e.v),t=ss(e.h,n,a),i=!0,r="hsv"):De(e.h)&&De(e.s)&&De(e.l)&&(n=mt(e.s),u=mt(e.l),t=ns(e.h,n,u),i=!0,r="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(o=e.a)),o=Mo(o),{ok:i,format:e.format||r,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:o}}var ls="[-\\+]?\\d+%?",cs="[-\\+]?\\d*\\.\\d+%?",He="(?:".concat(cs,")|(?:").concat(ls,")"),Bt="[\\s|\\(]+(".concat(He,")[,|\\s]+(").concat(He,")[,|\\s]+(").concat(He,")\\s*\\)?"),kt="[\\s|\\(]+(".concat(He,")[,|\\s]+(").concat(He,")[,|\\s]+(").concat(He,")[,|\\s]+(").concat(He,")\\s*\\)?"),Be={CSS_UNIT:new RegExp(He),rgb:new RegExp("rgb"+Bt),rgba:new RegExp("rgba"+kt),hsl:new RegExp("hsl"+Bt),hsla:new RegExp("hsla"+kt),hsv:new RegExp("hsv"+Bt),hsva:new RegExp("hsva"+kt),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function ds(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(Tt[e])e=Tt[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var o=Be.rgb.exec(e);return o?{r:o[1],g:o[2],b:o[3]}:(o=Be.rgba.exec(e),o?{r:o[1],g:o[2],b:o[3],a:o[4]}:(o=Be.hsl.exec(e),o?{h:o[1],s:o[2],l:o[3]}:(o=Be.hsla.exec(e),o?{h:o[1],s:o[2],l:o[3],a:o[4]}:(o=Be.hsv.exec(e),o?{h:o[1],s:o[2],v:o[3]}:(o=Be.hsva.exec(e),o?{h:o[1],s:o[2],v:o[3],a:o[4]}:(o=Be.hex8.exec(e),o?{r:Ce(o[1]),g:Ce(o[2]),b:Ce(o[3]),a:so(o[4]),format:t?"name":"hex8"}:(o=Be.hex6.exec(e),o?{r:Ce(o[1]),g:Ce(o[2]),b:Ce(o[3]),format:t?"name":"hex"}:(o=Be.hex4.exec(e),o?{r:Ce(o[1]+o[1]),g:Ce(o[2]+o[2]),b:Ce(o[3]+o[3]),a:so(o[4]+o[4]),format:t?"name":"hex8"}:(o=Be.hex3.exec(e),o?{r:Ce(o[1]+o[1]),g:Ce(o[2]+o[2]),b:Ce(o[3]+o[3]),format:t?"name":"hex"}:!1)))))))))}function De(e){return Boolean(Be.CSS_UNIT.exec(String(e)))}var fs=function(){function e(t,o){t===void 0&&(t=""),o===void 0&&(o={});var n;if(t instanceof e)return t;typeof t=="number"&&(t=is(t)),this.originalInput=t;var a=rs(t);this.originalInput=t,this.r=a.r,this.g=a.g,this.b=a.b,this.a=a.a,this.roundA=Math.round(100*this.a)/100,this.format=(n=o.format)!==null&&n!==void 0?n:a.format,this.gradientType=o.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=a.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),o,n,a,u=t.r/255,i=t.g/255,r=t.b/255;return u<=.03928?o=u/12.92:o=Math.pow((u+.055)/1.055,2.4),i<=.03928?n=i/12.92:n=Math.pow((i+.055)/1.055,2.4),r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),.2126*o+.7152*n+.0722*a},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=Mo(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.toHsv=function(){var t=oo(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=oo(this.r,this.g,this.b),o=Math.round(t.h*360),n=Math.round(t.s*100),a=Math.round(t.v*100);return this.a===1?"hsv(".concat(o,", ").concat(n,"%, ").concat(a,"%)"):"hsva(".concat(o,", ").concat(n,"%, ").concat(a,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=to(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=to(this.r,this.g,this.b),o=Math.round(t.h*360),n=Math.round(t.s*100),a=Math.round(t.l*100);return this.a===1?"hsl(".concat(o,", ").concat(n,"%, ").concat(a,"%)"):"hsla(".concat(o,", ").concat(n,"%, ").concat(a,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),no(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),as(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),o=Math.round(this.g),n=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(o,", ").concat(n,")"):"rgba(".concat(t,", ").concat(o,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(o){return"".concat(Math.round(de(o,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(o){return Math.round(de(o,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+no(this.r,this.g,this.b,!1),o=0,n=Object.entries(Tt);o<n.length;o++){var a=n[o],u=a[0],i=a[1];if(t===i)return u}return!1},e.prototype.toString=function(t){var o=Boolean(t);t=t!=null?t:this.format;var n=!1,a=this.a<1&&this.a>=0,u=!o&&a&&(t.startsWith("hex")||t==="name");return u?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(n=this.toRgbString()),t==="prgb"&&(n=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(n=this.toHexString()),t==="hex3"&&(n=this.toHexString(!0)),t==="hex4"&&(n=this.toHex8String(!0)),t==="hex8"&&(n=this.toHex8String()),t==="name"&&(n=this.toName()),t==="hsl"&&(n=this.toHslString()),t==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var o=this.toHsl();return o.l+=t/100,o.l=pt(o.l),new e(o)},e.prototype.brighten=function(t){t===void 0&&(t=10);var o=this.toRgb();return o.r=Math.max(0,Math.min(255,o.r-Math.round(255*-(t/100)))),o.g=Math.max(0,Math.min(255,o.g-Math.round(255*-(t/100)))),o.b=Math.max(0,Math.min(255,o.b-Math.round(255*-(t/100)))),new e(o)},e.prototype.darken=function(t){t===void 0&&(t=10);var o=this.toHsl();return o.l-=t/100,o.l=pt(o.l),new e(o)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var o=this.toHsl();return o.s-=t/100,o.s=pt(o.s),new e(o)},e.prototype.saturate=function(t){t===void 0&&(t=10);var o=this.toHsl();return o.s+=t/100,o.s=pt(o.s),new e(o)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var o=this.toHsl(),n=(o.h+t)%360;return o.h=n<0?360+n:n,new e(o)},e.prototype.mix=function(t,o){o===void 0&&(o=50);var n=this.toRgb(),a=new e(t).toRgb(),u=o/100,i={r:(a.r-n.r)*u+n.r,g:(a.g-n.g)*u+n.g,b:(a.b-n.b)*u+n.b,a:(a.a-n.a)*u+n.a};return new e(i)},e.prototype.analogous=function(t,o){t===void 0&&(t=6),o===void 0&&(o=30);var n=this.toHsl(),a=360/o,u=[this];for(n.h=(n.h-(a*t>>1)+720)%360;--t;)n.h=(n.h+a)%360,u.push(new e(n));return u},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var o=this.toHsv(),n=o.h,a=o.s,u=o.v,i=[],r=1/t;t--;)i.push(new e({h:n,s:a,v:u})),u=(u+r)%1;return i},e.prototype.splitcomplement=function(){var t=this.toHsl(),o=t.h;return[this,new e({h:(o+72)%360,s:t.s,l:t.l}),new e({h:(o+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var o=this.toRgb(),n=new e(t).toRgb();return new e({r:n.r+(o.r-n.r)*o.a,g:n.g+(o.g-n.g)*o.a,b:n.b+(o.b-n.b)*o.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var o=this.toHsl(),n=o.h,a=[this],u=360/t,i=1;i<t;i++)a.push(new e({h:(n+i*u)%360,s:o.s,l:o.l}));return a},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function Ve(e,t=20){return e.mix("#141414",t).toString()}function ps(e){const t=Ot(),o=je("button");return S(()=>{let n={};const a=e.color;if(a){const u=new fs(a),i=e.dark?u.tint(20).toString():Ve(u,20);if(e.plain)n=o.cssVarBlock({"bg-color":e.dark?Ve(u,90):u.tint(90).toString(),"text-color":a,"border-color":e.dark?Ve(u,50):u.tint(50).toString(),"hover-text-color":`var(${o.cssVarName("color-white")})`,"hover-bg-color":a,"hover-border-color":a,"active-bg-color":i,"active-text-color":`var(${o.cssVarName("color-white")})`,"active-border-color":i}),t.value&&(n[o.cssVarBlockName("disabled-bg-color")]=e.dark?Ve(u,90):u.tint(90).toString(),n[o.cssVarBlockName("disabled-text-color")]=e.dark?Ve(u,50):u.tint(50).toString(),n[o.cssVarBlockName("disabled-border-color")]=e.dark?Ve(u,80):u.tint(80).toString());else{const r=e.dark?Ve(u,30):u.tint(30).toString(),l=u.isDark()?`var(${o.cssVarName("color-white")})`:`var(${o.cssVarName("color-black")})`;if(n=o.cssVarBlock({"bg-color":a,"text-color":l,"border-color":a,"hover-bg-color":r,"hover-text-color":l,"hover-border-color":r,"active-bg-color":i,"active-border-color":i}),t.value){const f=e.dark?Ve(u,50):u.tint(50).toString();n[o.cssVarBlockName("disabled-bg-color")]=f,n[o.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${o.cssVarName("color-white")})`,n[o.cssVarBlockName("disabled-border-color")]=f}}}return n})}const ms=["aria-disabled","disabled","autofocus","type"],vs={name:"ElButton"},gs=N({...vs,props:xt,emits:Zn,setup(e,{expose:t,emit:o}){const n=e,a=lo();jt({from:"type.text",replacement:"type.link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},S(()=>n.type==="text"));const u=vt(ko,void 0),i=un("button"),r=je("button"),{form:l}=mo(),f=Vt(S(()=>u==null?void 0:u.size)),g=Ot(),d=k(),v=S(()=>n.type||(u==null?void 0:u.type)||""),C=S(()=>{var m,F,I;return(I=(F=n.autoInsertSpace)!=null?F:(m=i.value)==null?void 0:m.autoInsertSpace)!=null?I:!1}),U=S(()=>{var m;const F=(m=a.default)==null?void 0:m.call(a);if(C.value&&(F==null?void 0:F.length)===1){const I=F[0];if((I==null?void 0:I.type)===Wo){const M=I.children;return/^\p{Unified_Ideograph}{2}$/u.test(M.trim())}}return!1}),T=ps(n),A=m=>{n.nativeType==="reset"&&(l==null||l.resetFields()),o("click",m)};return t({ref:d,size:f,type:v,disabled:g,shouldAddSpace:U}),(m,F)=>(c(),_("button",{ref_key:"_ref",ref:d,class:w([s(r).b(),s(r).m(s(v)),s(r).m(s(f)),s(r).is("disabled",s(g)),s(r).is("loading",m.loading),s(r).is("plain",m.plain),s(r).is("round",m.round),s(r).is("circle",m.circle),s(r).is("text",m.text),s(r).is("link",m.link),s(r).is("has-bg",m.bg)]),"aria-disabled":s(g)||m.loading,disabled:s(g)||m.loading,autofocus:m.autofocus,type:m.nativeType,style:Ne(s(T)),onClick:A},[m.loading?(c(),_(te,{key:0},[m.$slots.loading?ue(m.$slots,"loading",{key:0}):(c(),x(s(ke),{key:1,class:w(s(r).is("loading"))},{default:D(()=>[(c(),x(Ie(m.loadingIcon)))]),_:1},8,["class"]))],64)):m.icon||m.$slots.icon?(c(),x(s(ke),{key:1},{default:D(()=>[m.icon?(c(),x(Ie(m.icon),{key:0})):ue(m.$slots,"icon",{key:1})]),_:3})):B("v-if",!0),m.$slots.default?(c(),_("span",{key:2,class:w({[s(r).em("text","expand")]:s(U)})},[ue(m.$slots,"default")],2)):B("v-if",!0)],14,ms))}});var hs=we(gs,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button.vue"]]);const _s={size:xt.size,type:xt.type},ys={name:"ElButtonGroup"},bs=N({...ys,props:_s,setup(e){const t=e;gt(ko,co({size:Yt(t,"size"),type:Yt(t,"type")}));const o=je("button");return(n,a)=>(c(),_("div",{class:w(`${s(o).b("group")}`)},[ue(n.$slots,"default")],2))}});var $o=we(bs,[["__file","/home/runner/work/element-plus/element-plus/packages/components/button/src/button-group.vue"]]);const Ct=lt(hs,{ButtonGroup:$o});rn($o);const Dt="_trap-focus-children",Ke=[],ao=e=>{if(Ke.length===0)return;const t=Ke[Ke.length-1][Dt];if(t.length>0&&e.code===vo.tab){if(t.length===1){e.preventDefault(),document.activeElement!==t[0]&&t[0].focus();return}const o=e.shiftKey,n=e.target===t[0],a=e.target===t[t.length-1];n&&o&&(e.preventDefault(),t[t.length-1].focus()),a&&!o&&(e.preventDefault(),t[0].focus())}},Es={beforeMount(e){e[Dt]=eo(e),Ke.push(e),Ke.length<=1&&document.addEventListener("keydown",ao)},updated(e){ve(()=>{e[Dt]=eo(e)})},unmounted(){Ke.shift(),Ke.length===0&&document.removeEventListener("keydown",ao)}},Lt={},Cs=Oe({a11y:{type:Boolean,default:!0},locale:{type:be(Object)},size:fo,button:{type:be(Object)},experimentalFeatures:{type:be(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:be(Object)},zIndex:Number,namespace:{type:String,default:"el"}});N({name:"ElConfigProvider",props:Cs,setup(e,{slots:t}){J(()=>e.message,n=>{Object.assign(Lt,n!=null?n:{})},{immediate:!0,deep:!0});const o=ln(e);return()=>ue(t,"default",{config:o==null?void 0:o.value})}});const As=["aria-label"],Ss=["id"],Is={name:"ElDialogContent"},Bs=N({...Is,props:cn,emits:dn,setup(e){const t=e,{t:o}=go(),{Close:n}=fn,{dialogRef:a,headerRef:u,bodyId:i,ns:r,style:l}=vt(Fo),{focusTrapRef:f}=vt(pn),g=Hn(f,a),d=S(()=>t.draggable);return wo(a,u,d),(v,C)=>(c(),_("div",{ref:s(g),class:w([s(r).b(),s(r).is("fullscreen",v.fullscreen),s(r).is("draggable",s(d)),{[s(r).m("center")]:v.center},v.customClass]),style:Ne(s(l)),tabindex:"-1",onClick:C[1]||(C[1]=Ue(()=>{},["stop"]))},[p("header",{ref_key:"headerRef",ref:u,class:w(s(r).e("header"))},[ue(v.$slots,"header",{},()=>[p("span",{role:"heading",class:w(s(r).e("title"))},Y(v.title),3)]),v.showClose?(c(),_("button",{key:0,"aria-label":s(o)("el.dialog.close"),class:w(s(r).e("headerbtn")),type:"button",onClick:C[0]||(C[0]=U=>v.$emit("close"))},[b(s(ke),{class:w(s(r).e("close"))},{default:D(()=>[(c(),x(Ie(v.closeIcon||s(n))))]),_:1},8,["class"])],10,As)):B("v-if",!0)],2),p("div",{id:s(i),class:w(s(r).e("body"))},[ue(v.$slots,"default")],10,Ss),v.$slots.footer?(c(),_("footer",{key:0,class:w(s(r).e("footer"))},[ue(v.$slots,"footer")],2)):B("v-if",!0)],6))}});var ks=we(Bs,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Fs=["aria-label","aria-labelledby","aria-describedby"],ws={name:"ElDialog"},Ms=N({...ws,props:mn,emits:vn,setup(e,{expose:t}){const o=e,n=lo();jt({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},S(()=>!!n.title));const a=je("dialog"),u=k(),i=k(),r=k(),{visible:l,titleId:f,bodyId:g,style:d,rendered:v,zIndex:C,afterEnter:U,afterLeave:T,beforeLeave:A,handleClose:m,onModalClick:F,onOpenAutoFocus:I,onCloseAutoFocus:M,onCloseRequested:V}=gn(o,u);gt(Fo,{dialogRef:u,headerRef:i,bodyId:g,ns:a,rendered:v,style:d});const y=ho(F),O=S(()=>o.draggable&&!o.fullscreen);return t({visible:l,dialogContentRef:r}),(j,P)=>(c(),x(Yo,{to:"body",disabled:!j.appendToBody},[b(Et,{name:"dialog-fade",onAfterEnter:s(U),onAfterLeave:s(T),onBeforeLeave:s(A),persisted:""},{default:D(()=>[ne(b(s(_o),{"custom-mask-event":"",mask:j.modal,"overlay-class":j.modalClass,"z-index":s(C)},{default:D(()=>[p("div",{role:"dialog","aria-modal":"true","aria-label":j.title||void 0,"aria-labelledby":j.title?void 0:s(f),"aria-describedby":s(g),class:w(`${s(a).namespace.value}-overlay-dialog`),onClick:P[0]||(P[0]=(...le)=>s(y).onClick&&s(y).onClick(...le)),onMousedown:P[1]||(P[1]=(...le)=>s(y).onMousedown&&s(y).onMousedown(...le)),onMouseup:P[2]||(P[2]=(...le)=>s(y).onMouseup&&s(y).onMouseup(...le))},[b(s(yo),{loop:"",trapped:s(l),"focus-start-el":"container",onFocusAfterTrapped:s(I),onFocusAfterReleased:s(M),onReleaseRequested:s(V)},{default:D(()=>[s(v)?(c(),x(ks,{key:0,ref_key:"dialogContentRef",ref:r,"custom-class":j.customClass,center:j.center,"close-icon":j.closeIcon,draggable:s(O),fullscreen:j.fullscreen,"show-close":j.showClose,title:j.title,onClose:s(m)},Go({header:D(()=>[j.$slots.title?ue(j.$slots,"title",{key:1}):ue(j.$slots,"header",{key:0,close:s(m),titleId:s(f),titleClass:s(a).e("title")})]),default:D(()=>[ue(j.$slots,"default")]),_:2},[j.$slots.footer?{name:"footer",fn:D(()=>[ue(j.$slots,"footer")])}:void 0]),1032,["custom-class","center","close-icon","draggable","fullscreen","show-close","title","onClose"])):B("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onReleaseRequested"])],42,Fs)]),_:3},8,["mask","overlay-class","z-index"]),[[re,s(l)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var $s=we(Ms,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const zt=lt($s),Rs={inheritAttrs:!1};function xs(e,t,o,n,a,u){return ue(e.$slots,"default")}var Ts=we(Rs,[["render",xs],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const Ds={name:"ElCollectionItem",inheritAttrs:!1};function Ls(e,t,o,n,a,u){return ue(e.$slots,"default")}var Us=we(Ds,[["render",Ls],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const Ns="data-el-collection-item",Os=e=>{const t=`El${e}Collection`,o=`${t}Item`,n=Symbol(t),a=Symbol(o),u={...Ts,name:t,setup(){const r=k(null),l=new Map;gt(n,{itemMap:l,getItems:()=>{const g=s(r);if(!g)return[];const d=Array.from(g.querySelectorAll(`[${Ns}]`));return[...l.values()].sort((C,U)=>d.indexOf(C.ref)-d.indexOf(U.ref))},collectionRef:r})}},i={...Us,name:o,setup(r,{attrs:l}){const f=k(null),g=vt(n,void 0);gt(a,{collectionItemRef:f}),ie(()=>{const d=s(f);d&&g.itemMap.set(d,{ref:d,...l})}),nt(()=>{const d=s(f);g.itemMap.delete(d)})}};return{COLLECTION_INJECTION_KEY:n,COLLECTION_ITEM_INJECTION_KEY:a,ElCollection:u,ElCollectionItem:i}},Ft=Oe({trigger:wt.trigger,effect:{...Le.effect,default:"light"},type:{type:be(String)},placement:{type:be(String),default:"bottom"},popperOptions:{type:be(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:be([Number,String]),default:0},maxHeight:{type:be([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:be(Object)}});Oe({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:tt}});Oe({onKeydown:{type:be(Function)}});Os("Dropdown");const js=Oe({trigger:wt.trigger,placement:Ft.placement,disabled:wt.disabled,visible:Le.visible,transition:Le.transition,popperOptions:Ft.popperOptions,tabindex:Ft.tabindex,content:Le.content,popperStyle:Le.popperStyle,popperClass:Le.popperClass,enterable:{...Le.enterable,default:!0},effect:{...Le.effect,default:"light"},teleported:Le.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),Vs={"update:visible":e=>ut(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},Ps={name:"ElPopover"},Hs=N({...Ps,props:js,emits:Vs,setup(e,{expose:t,emit:o}){const n=e,a="onUpdate:visible",u=S(()=>n[a]),i=je("popover"),r=k(),l=S(()=>{var m;return(m=s(r))==null?void 0:m.popperRef}),f=S(()=>[{width:_t(n.width)},n.popperStyle]),g=S(()=>[i.b(),n.popperClass,{[i.m("plain")]:!!n.content}]),d=S(()=>n.transition==="el-fade-in-linear"),v=()=>{var m;(m=r.value)==null||m.hide()},C=()=>{o("before-enter")},U=()=>{o("before-leave")},T=()=>{o("after-enter")},A=()=>{o("update:visible",!1),o("after-leave")};return t({popperRef:l,hide:v}),(m,F)=>(c(),x(s(hn),Qo({ref_key:"tooltipRef",ref:r},m.$attrs,{trigger:m.trigger,placement:m.placement,disabled:m.disabled,visible:m.visible,transition:m.transition,"popper-options":m.popperOptions,tabindex:m.tabindex,content:m.content,offset:m.offset,"show-after":m.showAfter,"hide-after":m.hideAfter,"auto-close":m.autoClose,"show-arrow":m.showArrow,"aria-label":m.title,effect:m.effect,enterable:m.enterable,"popper-class":s(g),"popper-style":s(f),teleported:m.teleported,persistent:m.persistent,"gpu-acceleration":s(d),"onUpdate:visible":s(u),onBeforeShow:C,onBeforeHide:U,onShow:T,onHide:A}),{content:D(()=>[m.title?(c(),_("div",{key:0,class:w(s(i).e("title")),role:"title"},Y(m.title),3)):B("v-if",!0),ue(m.$slots,"default",{},()=>[he(Y(m.content),1)])]),default:D(()=>[m.$slots.reference?ue(m.$slots,"reference",{key:0}):B("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var zs=we(Hs,[["__file","/home/runner/work/element-plus/element-plus/packages/components/popover/src/popover.vue"]]);const uo=(e,t)=>{const o=t.arg||t.value,n=o==null?void 0:o.popperRef;n&&(n.triggerRef=e)};var qs={mounted(e,t){uo(e,t)},updated(e,t){uo(e,t)}};const Ks="popover",Ws=_n(qs,Ks),Gs=lt(zs,{directive:Ws}),Ys=Oe({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:tt,default:""},inactiveIcon:{type:tt,default:""},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:be(Function)},size:{type:String,validator:bo},tabindex:{type:[String,Number]}}),Qs={[Mt]:e=>ut(e)||Xe(e)||Ze(e),[$t]:e=>ut(e)||Xe(e)||Ze(e),[Rt]:e=>ut(e)||Xe(e)||Ze(e)},Xs=["onClick"],Js=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],Zs=["aria-hidden"],ea=["aria-hidden"],ta=["aria-hidden"],oa=["aria-hidden"],na={name:"ElSwitch"},sa=N({...na,props:Ys,emits:Qs,setup(e,{expose:t,emit:o}){const n=e,a="ElSwitch",u=Xo(),{formItem:i}=mo(),r=Vt(),l=je("switch");jt({from:'"value"',replacement:'"model-value" or "v-model"',scope:a,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},S(()=>{var y;return!!((y=u.vnode.props)!=null&&y.value)}));const{inputId:f}=yn(n,{formItemContext:i}),g=Ot(S(()=>n.loading)),d=k(n.modelValue!==!1),v=k(),C=k(),U=S(()=>[l.b(),l.m(r.value),l.is("disabled",g.value),l.is("checked",m.value)]),T=S(()=>({width:_t(n.width)}));J(()=>n.modelValue,()=>{d.value=!0}),J(()=>n.value,()=>{d.value=!1});const A=S(()=>d.value?n.modelValue:n.value),m=S(()=>A.value===n.activeValue);[n.activeValue,n.inactiveValue].includes(A.value)||(o(Mt,n.inactiveValue),o($t,n.inactiveValue),o(Rt,n.inactiveValue)),J(m,y=>{var O;v.value.checked=y,n.validateEvent&&((O=i==null?void 0:i.validate)==null||O.call(i,"change").catch(j=>bn()))});const F=()=>{const y=m.value?n.inactiveValue:n.activeValue;o(Mt,y),o($t,y),o(Rt,y),ve(()=>{v.value.checked=m.value})},I=()=>{if(g.value)return;const{beforeChange:y}=n;if(!y){F();return}const O=y();[Qt(O),ut(O)].includes(!0)||En(a,"beforeChange must return type `Promise<boolean>` or `boolean`"),Qt(O)?O.then(P=>{P&&F()}).catch(P=>{}):O&&F()},M=S(()=>l.cssVarBlock({...n.activeColor?{"on-color":n.activeColor}:null,...n.inactiveColor?{"off-color":n.inactiveColor}:null,...n.borderColor?{"border-color":n.borderColor}:null})),V=()=>{var y,O;(O=(y=v.value)==null?void 0:y.focus)==null||O.call(y)};return ie(()=>{v.value.checked=m.value}),t({focus:V}),(y,O)=>(c(),_("div",{class:w(s(U)),style:Ne(s(M)),onClick:Ue(I,["prevent"])},[p("input",{id:s(f),ref_key:"input",ref:v,class:w(s(l).e("input")),type:"checkbox",role:"switch","aria-checked":s(m),"aria-disabled":s(g),name:y.name,"true-value":y.activeValue,"false-value":y.inactiveValue,disabled:s(g),tabindex:y.tabindex,onChange:F,onKeydown:Qe(I,["enter"])},null,42,Js),!y.inlinePrompt&&(y.inactiveIcon||y.inactiveText)?(c(),_("span",{key:0,class:w([s(l).e("label"),s(l).em("label","left"),s(l).is("active",!s(m))])},[y.inactiveIcon?(c(),x(s(ke),{key:0},{default:D(()=>[(c(),x(Ie(y.inactiveIcon)))]),_:1})):B("v-if",!0),!y.inactiveIcon&&y.inactiveText?(c(),_("span",{key:1,"aria-hidden":s(m)},Y(y.inactiveText),9,Zs)):B("v-if",!0)],2)):B("v-if",!0),p("span",{ref_key:"core",ref:C,class:w(s(l).e("core")),style:Ne(s(T))},[y.inlinePrompt?(c(),_("div",{key:0,class:w(s(l).e("inner"))},[y.activeIcon||y.inactiveIcon?(c(),_(te,{key:0},[y.activeIcon?(c(),x(s(ke),{key:0,class:w([s(l).is("icon"),s(m)?s(l).is("show"):s(l).is("hide")])},{default:D(()=>[(c(),x(Ie(y.activeIcon)))]),_:1},8,["class"])):B("v-if",!0),y.inactiveIcon?(c(),x(s(ke),{key:1,class:w([s(l).is("icon"),s(m)?s(l).is("hide"):s(l).is("show")])},{default:D(()=>[(c(),x(Ie(y.inactiveIcon)))]),_:1},8,["class"])):B("v-if",!0)],64)):y.activeText||y.inactiveIcon?(c(),_(te,{key:1},[y.activeText?(c(),_("span",{key:0,class:w([s(l).is("text"),s(m)?s(l).is("show"):s(l).is("hide")]),"aria-hidden":!s(m)},Y(y.activeText.substring(0,3)),11,ea)):B("v-if",!0),y.inactiveText?(c(),_("span",{key:1,class:w([s(l).is("text"),s(m)?s(l).is("hide"):s(l).is("show")]),"aria-hidden":s(m)},Y(y.inactiveText.substring(0,3)),11,ta)):B("v-if",!0)],64)):B("v-if",!0)],2)):B("v-if",!0),p("div",{class:w(s(l).e("action"))},[y.loading?(c(),x(s(ke),{key:0,class:w(s(l).is("loading"))},{default:D(()=>[b(s(po))]),_:1},8,["class"])):B("v-if",!0)],2)],6),!y.inlinePrompt&&(y.activeIcon||y.activeText)?(c(),_("span",{key:1,class:w([s(l).e("label"),s(l).em("label","right"),s(l).is("active",s(m))])},[y.activeIcon?(c(),x(s(ke),{key:0},{default:D(()=>[(c(),x(Ie(y.activeIcon)))]),_:1})):B("v-if",!0),!y.activeIcon&&y.activeText?(c(),_("span",{key:1,"aria-hidden":!s(m)},Y(y.activeText),9,oa)):B("v-if",!0)],2)):B("v-if",!0)],14,Xs))}});var aa=we(sa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const ua=lt(aa),Ro=["success","info","warning","error"],ye=Cn({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:"",id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:Pt?document.body:void 0}),ia=Oe({customClass:{type:String,default:ye.customClass},center:{type:Boolean,default:ye.center},dangerouslyUseHTMLString:{type:Boolean,default:ye.dangerouslyUseHTMLString},duration:{type:Number,default:ye.duration},icon:{type:tt,default:ye.icon},id:{type:String,default:ye.id},message:{type:be([String,Object,Function]),default:ye.message},onClose:{type:be(Function),required:!1},showClose:{type:Boolean,default:ye.showClose},type:{type:String,values:Ro,default:ye.type},offset:{type:Number,default:ye.offset},zIndex:{type:Number,default:ye.zIndex},grouping:{type:Boolean,default:ye.grouping},repeatNum:{type:Number,default:ye.repeatNum}}),ra={destroy:()=>!0},$e=Jo([]),la=e=>{const t=$e.findIndex(a=>a.id===e),o=$e[t];let n;return t>0&&(n=$e[t-1]),{current:o,prev:n}},ca=e=>{const{prev:t}=la(e);return t?t.vm.exposeProxy.bottom:0},da=["id"],fa=["innerHTML"],pa={name:"ElMessage"},ma=N({...pa,props:ia,emits:ra,setup(e,{expose:t}){const o=e,{Close:n}=Eo,a=je("message"),u=k(),i=k(!1),r=k(0);let l;const f=S(()=>o.type?o.type==="error"?"danger":o.type:"info"),g=S(()=>{const M=o.type;return{[a.bm("icon",M)]:M&&yt[M]}}),d=S(()=>o.icon||yt[o.type]||""),v=S(()=>ca(o.id)),C=S(()=>o.offset+v.value),U=S(()=>r.value+C.value),T=S(()=>({top:`${C.value}px`,zIndex:o.zIndex}));function A(){o.duration!==0&&({stop:l}=In(()=>{F()},o.duration))}function m(){l==null||l()}function F(){i.value=!1}function I({code:M}){M===vo.esc&&F()}return ie(()=>{A(),i.value=!0}),J(()=>o.repeatNum,()=>{m(),A()}),An(document,"keydown",I),Sn(u,()=>{r.value=u.value.getBoundingClientRect().height}),t({visible:i,bottom:U,close:F}),(M,V)=>(c(),x(Et,{name:s(a).b("fade"),onBeforeLeave:M.onClose,onAfterLeave:V[0]||(V[0]=y=>M.$emit("destroy")),persisted:""},{default:D(()=>[ne(p("div",{id:M.id,ref_key:"messageRef",ref:u,class:w([s(a).b(),{[s(a).m(M.type)]:M.type&&!M.icon},s(a).is("center",M.center),s(a).is("closable",M.showClose),M.customClass]),style:Ne(s(T)),role:"alert",onMouseenter:m,onMouseleave:A},[M.repeatNum>1?(c(),x(s(Qn),{key:0,value:M.repeatNum,type:s(f),class:w(s(a).e("badge"))},null,8,["value","type","class"])):B("v-if",!0),s(d)?(c(),x(s(ke),{key:1,class:w([s(a).e("icon"),s(g)])},{default:D(()=>[(c(),x(Ie(s(d))))]),_:1},8,["class"])):B("v-if",!0),ue(M.$slots,"default",{},()=>[M.dangerouslyUseHTMLString?(c(),_(te,{key:1},[B(" Caution here, message could've been compromised, never use user's input as message "),p("p",{class:w(s(a).e("content")),innerHTML:M.message},null,10,fa)],2112)):(c(),_("p",{key:0,class:w(s(a).e("content"))},Y(M.message),3))]),M.showClose?(c(),x(s(ke),{key:2,class:w(s(a).e("closeBtn")),onClick:Ue(F,["stop"])},{default:D(()=>[b(s(n))]),_:1},8,["class","onClick"])):B("v-if",!0)],46,da),[[re,i.value]])]),_:3},8,["name","onBeforeLeave"]))}});var va=we(ma,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let ga=1;const xo=e=>{const t=!e||Xe(e)||Je(e)||Nt(e)?{message:e}:e,o={...ye,...t};if(!o.appendTo)o.appendTo=document.body;else if(Xe(o.appendTo)){let n=document.querySelector(o.appendTo);Bn(n)||(n=document.body),o.appendTo=n}return o},ha=e=>{const t=$e.indexOf(e);if(t===-1)return;$e.splice(t,1);const{handler:o}=e;o.close()},_a=({appendTo:e,...t},o)=>{const{nextZIndex:n}=Co(),a=`message_${ga++}`,u=t.onClose,i=document.createElement("div"),r={...t,zIndex:n()+t.zIndex,id:a,onClose:()=>{u==null||u(),ha(d)},onDestroy:()=>{ht(null,i)}},l=b(va,r,Nt(r.message)||Je(r.message)?{default:r.message}:null);l.appContext=o||ot._context,ht(l,i),e.appendChild(i.firstElementChild);const f=l.component,d={id:a,vnode:l,vm:f,handler:{close:()=>{f.exposeProxy.visible=!1}},props:l.component.props};return d},ot=(e={},t)=>{if(!Pt)return{close:()=>{}};if(Ze(Lt.max)&&$e.length>=Lt.max)return{close:()=>{}};const o=xo(e);if(o.grouping&&$e.length){const a=$e.find(({vnode:u})=>{var i;return((i=u.props)==null?void 0:i.message)===o.message});if(a)return a.props.repeatNum+=1,a.props.type=o.type,a.handler}const n=_a(o,t);return $e.push(n),n.handler};Ro.forEach(e=>{ot[e]=(t={},o)=>{const n=xo(t);return ot({...n,type:e},o)}});function ya(e){for(const t of $e)(!e||e===t.props.type)&&t.handler.close()}ot.closeAll=ya;ot._context=null;const ce=kn(ot,"$message"),ba=N({name:"ElMessageBox",directives:{TrapFocus:Es},components:{ElButton:Ct,ElFocusTrap:yo,ElInput:Fn,ElOverlay:_o,ElIcon:ke,...Eo},inheritAttrs:!1,props:{buttonSize:{type:String,validator:bo},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{t:o}=go(),n=je("message-box"),a=k(!1),{nextZIndex:u}=Co(),i=co({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:u()}),r=S(()=>{const $=i.type;return{[n.bm("icon",$)]:$&&yt[$]}}),l=Jt(),f=Jt(),g=Vt(S(()=>e.buttonSize),{prop:!0,form:!0,formItem:!0}),d=S(()=>i.icon||yt[i.type]||""),v=S(()=>!!i.message),C=k(),U=k(),T=k(),A=k(),m=k(),F=S(()=>i.confirmButtonClass);J(()=>i.inputValue,async $=>{await ve(),e.boxType==="prompt"&&$!==null&&P()},{immediate:!0}),J(()=>a.value,$=>{var W,E;$&&(e.boxType!=="prompt"&&(i.autofocus?T.value=(E=(W=m.value)==null?void 0:W.$el)!=null?E:C.value:T.value=C.value),i.zIndex=u()),e.boxType==="prompt"&&($?ve().then(()=>{var q;A.value&&A.value.$el&&(i.autofocus?T.value=(q=le())!=null?q:C.value:T.value=C.value)}):(i.editorErrorMessage="",i.validateError=!1))});const I=S(()=>e.draggable);wo(C,U,I),ie(async()=>{await ve(),e.closeOnHashChange&&window.addEventListener("hashchange",M)}),nt(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",M)});function M(){!a.value||(a.value=!1,ve(()=>{i.action&&t("action",i.action)}))}const V=()=>{e.closeOnClickModal&&j(i.distinguishCancelAndClose?"close":"cancel")},y=ho(V),O=$=>{if(i.inputType!=="textarea")return $.preventDefault(),j("confirm")},j=$=>{var W;e.boxType==="prompt"&&$==="confirm"&&!P()||(i.action=$,i.beforeClose?(W=i.beforeClose)==null||W.call(i,$,i,M):M())},P=()=>{if(e.boxType==="prompt"){const $=i.inputPattern;if($&&!$.test(i.inputValue||""))return i.editorErrorMessage=i.inputErrorMessage||o("el.messagebox.error"),i.validateError=!0,!1;const W=i.inputValidator;if(typeof W=="function"){const E=W(i.inputValue);if(E===!1)return i.editorErrorMessage=i.inputErrorMessage||o("el.messagebox.error"),i.validateError=!0,!1;if(typeof E=="string")return i.editorErrorMessage=E,i.validateError=!0,!1}}return i.editorErrorMessage="",i.validateError=!1,!0},le=()=>{const $=A.value.$refs;return $.input||$.textarea},Ee=()=>{j("close")},Te=()=>{e.closeOnPressEscape&&Ee()};return e.lockScroll&&wn(a),zn(a),{...Zo(i),ns:n,overlayEvent:y,visible:a,hasMessage:v,typeClass:r,contentId:l,inputId:f,btnSize:g,iconComponent:d,confirmButtonClasses:F,rootRef:C,focusStartRef:T,headerRef:U,inputRef:A,confirmRef:m,doClose:M,handleClose:Ee,onCloseRequested:Te,handleWrapperClick:V,handleInputEnter:O,handleAction:j,t:o}}}),Ea=["aria-label","aria-describedby"],Ca=["aria-label"],Aa=["id"];function Sa(e,t,o,n,a,u){const i=Ye("el-icon"),r=Ye("close"),l=Ye("el-input"),f=Ye("el-button"),g=Ye("el-focus-trap"),d=Ye("el-overlay");return c(),x(Et,{name:"fade-in-linear",onAfterLeave:t[11]||(t[11]=v=>e.$emit("vanish")),persisted:""},{default:D(()=>[ne(b(d,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:D(()=>[p("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:w(`${e.ns.namespace.value}-overlay-message-box`),onClick:t[8]||(t[8]=(...v)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...v)),onMousedown:t[9]||(t[9]=(...v)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...v)),onMouseup:t[10]||(t[10]=(...v)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...v))},[b(g,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:D(()=>[p("div",{ref:"rootRef",class:w([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:Ne(e.customStyle),tabindex:"-1",onClick:t[7]||(t[7]=Ue(()=>{},["stop"]))},[e.title!==null&&e.title!==void 0?(c(),_("div",{key:0,ref:"headerRef",class:w(e.ns.e("header"))},[p("div",{class:w(e.ns.e("title"))},[e.iconComponent&&e.center?(c(),x(i,{key:0,class:w([e.ns.e("status"),e.typeClass])},{default:D(()=>[(c(),x(Ie(e.iconComponent)))]),_:1},8,["class"])):B("v-if",!0),p("span",null,Y(e.title),1)],2),e.showClose?(c(),_("button",{key:0,type:"button",class:w(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:t[0]||(t[0]=v=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:t[1]||(t[1]=Qe(Ue(v=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[b(i,{class:w(e.ns.e("close"))},{default:D(()=>[b(r)]),_:1},8,["class"])],42,Ca)):B("v-if",!0)],2)):B("v-if",!0),p("div",{id:e.contentId,class:w(e.ns.e("content"))},[p("div",{class:w(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(c(),x(i,{key:0,class:w([e.ns.e("status"),e.typeClass])},{default:D(()=>[(c(),x(Ie(e.iconComponent)))]),_:1},8,["class"])):B("v-if",!0),e.hasMessage?(c(),_("div",{key:1,class:w(e.ns.e("message"))},[ue(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(c(),x(Ie(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(c(),x(Ie(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:D(()=>[he(Y(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):B("v-if",!0)],2),ne(p("div",{class:w(e.ns.e("input"))},[b(l,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":t[2]||(t[2]=v=>e.inputValue=v),type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:w({invalid:e.validateError}),onKeydown:Qe(e.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),p("div",{class:w(e.ns.e("errormsg")),style:Ne({visibility:e.editorErrorMessage?"visible":"hidden"})},Y(e.editorErrorMessage),7)],2),[[re,e.showInput]])],10,Aa),p("div",{class:w(e.ns.e("btns"))},[e.showCancelButton?(c(),x(f,{key:0,loading:e.cancelButtonLoading,class:w([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:t[3]||(t[3]=v=>e.handleAction("cancel")),onKeydown:t[4]||(t[4]=Qe(Ue(v=>e.handleAction("cancel"),["prevent"]),["enter"]))},{default:D(()=>[he(Y(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):B("v-if",!0),ne(b(f,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,class:w([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:t[5]||(t[5]=v=>e.handleAction("confirm")),onKeydown:t[6]||(t[6]=Qe(Ue(v=>e.handleAction("confirm"),["prevent"]),["enter"]))},{default:D(()=>[he(Y(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[re,e.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,Ea)]),_:3},8,["z-index","overlay-class","mask"]),[[re,e.visible]])]),_:3})}var Ia=we(ba,[["render",Sa],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const it=new Map,Ba=(e,t,o=null)=>{const n=tn(Ia,e);return n.appContext=o,ht(n,t),document.body.appendChild(t.firstElementChild),n.component},ka=()=>document.createElement("div"),Fa=(e,t)=>{const o=ka();e.onVanish=()=>{ht(null,o),it.delete(a)},e.onAction=u=>{const i=it.get(a);let r;e.showInput?r={value:a.inputValue,action:u}:r=u,e.callback?e.callback(r,n.proxy):u==="cancel"||u==="close"?e.distinguishCancelAndClose&&u!=="cancel"?i.reject("close"):i.reject("cancel"):i.resolve(r)};const n=Ba(e,o,t),a=n.proxy;for(const u in e)Xt(e,u)&&!Xt(a.$props,u)&&(a[u]=e[u]);return J(()=>a.message,(u,i)=>{Je(u)?n.slots.default=()=>[u]:Je(i)&&!Je(u)&&delete n.slots.default},{immediate:!0}),a.visible=!0,a};function st(e,t=null){if(!Pt)return Promise.reject();let o;return Xe(e)||Je(e)?e={message:e}:o=e.callback,new Promise((n,a)=>{const u=Fa(e,t!=null?t:st._context);it.set(u,{options:e,callback:o,resolve:n,reject:a})})}const wa=["alert","confirm","prompt"],Ma={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};wa.forEach(e=>{st[e]=$a(e)});function $a(e){return(t,o,n,a)=>{let u;return en(o)?(n=o,u=""):Mn(o)?u="":u=o,st(Object.assign({title:u,message:t,type:"",...Ma[e]},n,{boxType:e}),a)}}st.close=()=>{it.forEach((e,t)=>{t.doClose()}),it.clear()};st._context=null;const Pe=st;Pe.install=e=>{Pe._context=e._context,e.config.globalProperties.$msgbox=Pe,e.config.globalProperties.$messageBox=Pe,e.config.globalProperties.$alert=Pe.alert,e.config.globalProperties.$confirm=Pe.confirm,e.config.globalProperties.$prompt=Pe.prompt};const To=Pe,Ra=location.protocol==="file:"||location.hostname==="localhost"||location.hostname==="127.0.0.1",Do=location.host==="web.sdk.qcloud.com",xa=Ra||Do,Ta=Do,Da="iHWefAYqtDYnHsxOaR",La="webTUIRoom";let bt;const At=document.createElement("script");At.type="text/javascript";At.src="https://cdn-go.cn/aegis/aegis-sdk/latest/aegis.min.js";document.getElementsByTagName("head")[0].appendChild(At);At.onload=()=>{bt=new Aegis({id:Da,uin:"",reportApiSpeed:!0,reportAssetSpeed:!0,spa:!0}),Fe.storedReportEventList&&Fe.storedReportEventList.forEach(e=>{bt.reportEvent(e)})};class Ua{constructor(){ze(this,"sdkAppId",0);ze(this,"projectName",La);ze(this,"isUploadLoaded",xa);ze(this,"isUploadDetailEvent",Ta);ze(this,"hasUploadedEventList",[]);ze(this,"storedReportEventList",[])}setSdkAppId(t){this.sdkAppId=t}reportEvent(t){if(!this.isUploadLoaded)return;const{name:o,ext1:n}=t;if(this.isUploadDetailEvent||o==="loaded"){const a={...t,ext2:this.projectName,ext3:this.sdkAppId};bt?this.hasUploadedEventList.indexOf(`${o}_${n}`)<0&&(this.hasUploadedEventList.push(`${o}_${n}`),bt.reportEvent(a)):this.storedReportEventList.push(a)}}}const Fe=new Ua,qt=e=>(We("data-v-70d9fd97"),e=e(),Ge(),e),Na={class:"network-info-container"},Oa=["onClick"],ja={class:"network-state"},Va={class:"network-detail-item"},Pa=qt(()=>p("span",null,"\u7F51\u7EDC\u5EF6\u8FDF\uFF1A",-1)),Ha={class:"network-detail-item"},za=qt(()=>p("span",null,"\u5E27\u7387\uFF1A",-1)),qa={class:"network-detail-item"},Ka=qt(()=>p("span",null,"\u7801\u7387\uFF1A",-1)),Wa=N({__name:"NetworkInfo",setup(e){const t=["\u72B6\u6001\u672A\u77E5","\u72B6\u6001\u6781\u4F73","\u72B6\u6001\u8F83\u597D","\u72B6\u6001\u4E00\u822C","\u72B6\u6001\u5DEE","\u72B6\u6001\u6781\u5DEE","\u65AD\u5F00\u8FDE\u63A5"],o=Z(),{localQuality:n,statistics:a,localVideoBitrate:u,localFrameRate:i}=Q(o),r=k(),l=k(!1);function f(v){return n.value===0?!1:5-n.value>v}function g(){l.value?(document.removeEventListener("click",d,!1),l.value=!1):(l.value=!0,document.addEventListener("click",d,!1)),Fe.reportEvent({name:"networkInfo",ext1:"networkInfo"})}function d(v){l.value&&r.value&&!r.value.contains(v.target)&&(document.removeEventListener("click",d),l.value=!1)}return(v,C)=>(c(),_("div",Na,[p("div",{class:w(["network-info-icon",`${l.value?"active":""}`]),onClick:Ue(g,["stop"])},[(c(!0),_(te,null,Ae(new Array(4),(U,T)=>(c(),_("div",{key:T,class:w([`network-quality-${T+1}`,`${f(T)?"green":""}`])},null,2))),128))],10,Oa),l.value?(c(),_("div",{key:0,ref_key:"networkBoard",ref:r,class:"network-info-board"},[p("div",ja,Y(`\u7F51\u7EDC${t[s(n)]}`),1),p("div",Va,[Pa,p("span",null,Y(`${s(a).rtt} ms`),1)]),p("div",Ha,[za,p("span",null,Y(`${s(i)} fps`),1)]),p("div",qa,[Ka,p("span",null,Y(`${s(u)} Kbps`),1)])],512)):B("",!0)]))}});const Ga=se(Wa,[["__scopeId","data-v-70d9fd97"]]),ct=e=>(We("data-v-067ae7bd"),e=e(),Ge(),e),Ya={key:0,class:"layout-container"},Qa={class:"layout-block-container"},Xa=ct(()=>p("span",{class:"layout-title"},"\u4E00\u5C4F\u4E5D\u7B49\u5206",-1)),Ja={class:"layout-block-container"},Za=ct(()=>p("div",{class:"left-container"},null,-1)),eu={class:"right-container"},tu=ct(()=>p("span",{class:"layout-title"},"\u53F3\u4FA7\u6210\u5458\u5217\u8868",-1)),ou={class:"layout-block-container"},nu={class:"top-container"},su=ct(()=>p("div",{class:"bottom-container"},null,-1)),au=ct(()=>p("span",{class:"layout-title"},"\u9876\u90E8\u6210\u5458\u5217\u8868",-1)),uu=N({__name:"layoutControl",setup(e){const t=Z(),{layout:o}=Q(t),n=Me(),{streamNumber:a}=Q(n),u=k(!1),i=k(null);function r(g){t.setLayout(g),Fe.reportEvent({name:"layout",ext1:g})}function l(){u.value?(document.removeEventListener("click",f,!1),u.value=!1):(u.value=!0,document.addEventListener("click",f,!1))}function f(g){u.value&&i.value&&!i.value.contains(g.target)&&(document.removeEventListener("click",f),u.value=!1)}return(g,d)=>s(a)>1?(c(),_("div",Ya,[b(ae,{class:"layout-icon","icon-name":"layout",size:"medium",onClick:Ue(l,["stop"])},null,8,["onClick"]),u.value?(c(),_("div",{key:0,ref_key:"layoutList",ref:i,class:"layout-list"},[p("div",{class:w(["layout1","layout-item",`${s(o)===s(K).NINE_EQUAL_POINTS?"checked":""}`]),onClick:d[0]||(d[0]=v=>r(s(K).NINE_EQUAL_POINTS))},[p("div",Qa,[(c(!0),_(te,null,Ae(new Array(9).fill(""),(v,C)=>(c(),_("div",{key:C,class:"layout-block"}))),128))]),Xa],2),p("div",{class:w(["layout2","layout-item",`${s(o)===s(K).RIGHT_SIDE_LIST?"checked":""}`]),onClick:d[1]||(d[1]=v=>r(s(K).RIGHT_SIDE_LIST))},[p("div",Ja,[Za,p("div",eu,[(c(!0),_(te,null,Ae(new Array(4).fill(""),(v,C)=>(c(),_("div",{key:C,class:"layout-block"}))),128))])]),tu],2),p("div",{class:w(["layout3","layout-item",`${s(o)===s(K).TOP_SIDE_LIST?"checked":""}`]),onClick:d[2]||(d[2]=v=>r(s(K).TOP_SIDE_LIST))},[p("div",ou,[p("div",nu,[(c(!0),_(te,null,Ae(new Array(4).fill(""),(v,C)=>(c(),_("div",{key:C,class:"layout-block"}))),128))]),su]),au],2)],512)):B("",!0)])):B("",!0)}});const iu=se(uu,[["__scopeId","data-v-067ae7bd"]]),ru={class:"header-container"},lu={class:"left-container"},cu={class:"right-container"},du=N({__name:"index",emits:["logOut"],setup(e){const t=Z(),{userId:o,userName:n,userAvatar:a}=Q(t);return(u,i)=>(c(),_("div",ru,[p("div",lu,[b($n,{class:"header-item user-info","user-id":s(o),"user-name":s(n),"user-avatar":s(a),onLogOut:i[0]||(i[0]=r=>u.$emit("logOut"))},null,8,["user-id","user-name","user-avatar"])]),p("div",cu,[b(Ga),b(iu)])]))}});const fu=se(du,[["__scopeId","data-v-566e70b6"]]),pu=["id"],mu=["src"],vu={class:"corner-user-info-container"},gu={class:"user-name"},hu=N({__name:"StreamRegion",props:{stream:null,enlargeDomId:null},setup(e){const t=e,o="[StreamRegion]",n=Z(),a=k(),u=k(),i=S(()=>`${t.stream.userId}_${t.stream.type}`),r=S(()=>t.stream.userId===n.masterUserId&&t.stream.type==="main"),l=S(()=>{var g;return t.stream.type==="main"&&((g=t.stream.userId)==null?void 0:g.indexOf("share_"))===0||t.stream.type==="screen"}),f=S(()=>{var d;let g=t.stream.userName||t.stream.userId;return l.value?(((d=t.stream.userId)==null?void 0:d.indexOf("share_"))===0&&g===t.stream.userId&&(g=g.slice(6)),`${g} \u7684\u5C4F\u5E55\u5206\u4EAB`):g});return J(()=>t.stream.isAudioStreamAvailable,async g=>{if(g&&t.stream.userId!==n.userId){await ve();const d=document.getElementById(`${i.value}`);d&&(ee.debug(`${o}watch isAudioStreamAvailable:`,t.stream.userId,d,pe.CAMERA),h.startRemoteView(t.stream.userId,d,pe.CAMERA))}},{immediate:!0}),J(()=>t.stream.isVideoStreamAvailable,async g=>{if(g&&t.stream.userId!==n.userId){await ve();const d=document.getElementById(`${i.value}`);d&&(ee.debug(`${o}watch isVideoStreamAvailable:`,t.stream.userId,d,pe.CAMERA),h.startRemoteView(t.stream.userId,d,pe.CAMERA),h.setRemoteVideoFillMode(t.stream.userId,t.stream.type,Rn.TRTCVideoFillMode_Fit))}},{immediate:!0}),J(()=>t.stream.isScreenStreamAvailable,async g=>{if(g){await ve();const d=document.getElementById(`${i.value}`);d&&(ee.debug(`${o}watch isScreenStreamAvailable:`,t.stream.userId,d,pe.SCREEN),h.startRemoteView(t.stream.userId,d,pe.SCREEN))}},{immediate:!0}),J(()=>t.enlargeDomId,async(g,d)=>{if(i.value===d||i.value===g){await ve();const v=document.getElementById(`${i.value}`);v&&(n.userId===t.stream.userId?t.stream.isVideoStreamAvailable&&h.startCameraPreview(v):t.stream.type==="main"?(ee.debug(`${o}watch enlargeDomId:`,t.stream.userId,v,pe.CAMERA),h.startRemoteView(t.stream.userId,v,pe.CAMERA)):t.stream.type==="screen"&&(ee.debug(`${o}watch enlargeDomId:`,t.stream.userId,v,pe.SCREEN),h.startRemoteView(t.stream.userId,v,pe.SCREEN)))}}),J(i,async()=>{await ve();const g=document.getElementById(`${i.value}`);g&&n.userId!==t.stream.userId&&(t.stream.type==="main"?(ee.debug(`${o}watch playRegionDomId:`,t.stream.userId,g,pe.SCREEN),h.startRemoteView(t.stream.userId,g,pe.CAMERA)):t.stream.type==="screen"&&(ee.debug(`${o}watch playRegionDomId:`,t.stream.userId,g,pe.SCREEN),h.startRemoteView(t.stream.userId,g,pe.SCREEN)))}),(g,d)=>s(i)!==e.enlargeDomId?(c(),_("div",{key:0,ref_key:"streamRegionRef",ref:a,class:"user-stream-container"},[p("div",{id:s(i),class:"stream-region"},null,8,pu),!e.stream.isVideoStreamAvailable&&!e.stream.isScreenStreamAvailable?(c(),_("div",{key:0,ref_key:"centerUserInfoRef",ref:u,class:"center-user-info-container"},[p("img",{class:"avatar-region",src:e.stream.userAvatar||s(Ao)},null,8,mu)],512)):B("",!0),p("div",vu,[s(r)?(c(),x(ae,{key:0,class:"master-icon","icon-name":"user"})):B("",!0),s(l)?B("",!0):(c(),x(So,{key:1,"audio-volume":e.stream.audioVolume,"is-muted":!e.stream.isAudioStreamAvailable,size:"small"},null,8,["audio-volume","is-muted"])),s(l)?(c(),x(ae,{key:2,"icon-name":"screen-share",class:"screen-icon"})):B("",!0),p("span",gu,Y(s(f)),1)])],512)):B("",!0)}});const io=se(hu,[["__scopeId","data-v-34595f8e"]]),Lo=e=>(We("data-v-98f6ffa1"),e=e(),Ge(),e),_u={key:1,class:"turn-page-container"},yu=Lo(()=>p("div",{class:"turn-page-arrow"},null,-1)),bu=[yu],Eu=Lo(()=>p("div",{class:"turn-page-arrow turn-page-right"},null,-1)),Cu=[Eu],Au=N({__name:"StreamContainer",props:{showRoomTool:{type:Boolean}},setup(e){const t=k({}),o=k({}),n=Me(),{streamList:a,streamNumber:u}=Q(n),i=Z(),{layout:r}=Q(i),l=k(!0),f=k(null),g=S(()=>f.value?`${f.value.userId}_${f.value.type}`:""),d=k(0),v=S(()=>r.value!==K.NINE_EQUAL_POINTS?a.value:a.value.slice(d.value*9,d.value*9+9));J(u,R=>{d.value>Math.ceil(R/9)-1&&(d.value=Math.ceil(R/9)-1,O())});const C=S(()=>r.value===K.NINE_EQUAL_POINTS&&u.value>9),U=S(()=>d.value>0),T=S(()=>u.value>d.value*9+9);function A(){d.value=d.value-1,O()}function m(){d.value=d.value+1,O()}const F=k(""),I=k(),M=k(),V=S(()=>{let R="";return r.value===K.TOP_SIDE_LIST&&(R=l.value?"up":"down"),r.value===K.RIGHT_SIDE_LIST&&(R=l.value?"right":"left"),`icon-control arrow-${R}`});function y(){if(l.value=!l.value,l.value){if(r.value===K.RIGHT_SIDE_LIST){j(),I.value.style.width="calc(100% - 260px)",I.value.style.height="100%";return}if(r.value===K.TOP_SIDE_LIST){P(),I.value.style.top="175px",I.value.style.width="100%",I.value.style.height="calc(100% - 175px)";return}}else{let R=0,H=0;const z=document.getElementById("roomContainer").offsetWidth,X=document.getElementById("roomContainer").offsetHeight,me=z/16,_e=X/9;if(me>_e&&(R=X/9*16,H=X),me<_e&&(R=z,H=z/16*9),o.value.width=`${R}px`,o.value.height=`${H}px`,r.value===K.RIGHT_SIDE_LIST){I.value.style.width="100%",I.value.style.height="100%";return}if(r.value===K.TOP_SIDE_LIST){I.value.style.top="0px",I.value.style.width="100%",I.value.style.height="100%";return}}}async function O(){F.value="stream-container-flatten",f.value=null,await ve();const R=v.value.length;let H=0,z=0;const X=document.getElementById("roomContainer");let me=X.offsetWidth,_e=X.offsetHeight;R<=4?(me=R<2?X.offsetWidth/R:X.offsetWidth/2,_e=X.offsetHeight/Math.ceil(R/2)):R>4&&(me=R<3?X.offsetWidth/R:X.offsetWidth/3,_e=X.offsetHeight/Math.ceil(R/3));const Wt=me/16,Gt=_e/9;Wt>Gt&&(H=_e/9*16,z=_e),Wt<=Gt&&(H=me,z=me/16*9),t.value.width=`${H}px`,t.value.height=`${z}px`}async function j(){if(F.value="stream-container-right",f.value||([f.value]=a.value),await ve(),t.value={},I.value){const R=I.value.offsetWidth,H=I.value.offsetHeight;let z=0,X=0;const me=R/16,_e=H/9;me>_e&&(z=H/9*16,X=H),me<_e&&(z=R,X=R/16*9),o.value.width=`${z}px`,o.value.height=`${X}px`}}async function P(){if(F.value="stream-container-top",f.value||([f.value]=a.value),await ve(),t.value={},I.value){const R=I.value.offsetWidth,H=I.value.offsetHeight;let z=0,X=0;const me=R/16,_e=H/9;me>_e&&(z=H/9*16,X=H),me<_e&&(z=R,X=R/16*9),o.value.width=`${z}px`,o.value.height=`${X}px`}}function le(R){r.value!==K.NINE_EQUAL_POINTS&&(f.value=R)}function Ee(){switch(r.value){case K.NINE_EQUAL_POINTS:O();break;case K.RIGHT_SIDE_LIST:l.value=!0,I.value.style.width="calc(100% - 260px)",I.value.style.height="100%",j();break;case K.TOP_SIDE_LIST:l.value=!0,I.value.style.width="100%",I.value.style.height="calc(100% - 175px)",P();break}}function Te(){switch(r.value){case K.NINE_EQUAL_POINTS:O();break;case K.RIGHT_SIDE_LIST:j();break;case K.TOP_SIDE_LIST:P();break}}ie(()=>{Ee(),["resize","pageshow"].forEach(R=>{window.addEventListener(R,Te)})}),Re(()=>{["resize","pageshow"].forEach(R=>{window.removeEventListener(R,Te)})}),J(u,()=>{r.value===K.NINE_EQUAL_POINTS&&O()}),J(r,()=>{Ee()});const $=S(()=>[K.RIGHT_SIDE_LIST,K.TOP_SIDE_LIST].indexOf(r.value)>=0),W=R=>{n.addRemoteUser(R)},E=R=>{n.removeRemoteUser(R.userId)},q=R=>{n.updateUserAVAbility(R,!0)},fe=R=>{var H;n.updateUserAVAbility(R,!1),(R.userId===((H=f.value)==null?void 0:H.userId)||n.remoteStreamList.length===0)&&(i.setLayout(K.NINE_EQUAL_POINTS),f.value=null)},Se=R=>{const{userId:H,available:z,streamType:X}=R;if(H===i.userId){n.updateLocalStream({isVideoStreamAvailable:!!z});return}if(X===pe.CAMERA){if(n.updateRemoteVideoStream(R),H.indexOf("share_")===0&&H!==`share_${i.userId}`){f.value=n.remoteStreamMap.get(`${H}_main`),r.value!==K.RIGHT_SIDE_LIST&&r.value!==K.TOP_SIDE_LIST&&i.setLayout(K.RIGHT_SIDE_LIST);return}i.isMaster&&z&&n.setMuteUserVideo(H,!1)}else X===pe.SCREEN&&(n.updateRemoteScreenStream(R),f.value=n.remoteStreamMap.get(`${H}_screen`),r.value!==K.RIGHT_SIDE_LIST&&r.value!==K.TOP_SIDE_LIST&&i.setLayout(K.RIGHT_SIDE_LIST))},dt=R=>{const{userId:H,available:z}=R;if(H===i.userId){n.updateLocalStream({isAudioStreamAvailable:!!z});return}n.updateRemoteAudioStream(R),i.isMaster&&z&&n.setMuteUserAudio(H,!1)},{isDefaultOpenCamera:St,isDefaultOpenMicrophone:Vo}=Q(n),{isLocalAudioIconDisable:Po,isLocalVideoIconDisable:Ho}=Q(i);return J(St,async R=>{if(R&&!Ho.value){const H=document.getElementById(`${n.localStream.userId}_main`);if(H){if(!n.currentCameraId){const X=await h.getCameraList();n.setCurrentCameraId(X[0].deviceId)}await h.setCurrentCamera(n.currentCameraId);const z=new Dn;z.videoResolution=xn.TRTCVideoResolution_1280_720,z.videoFps=15,z.videoBitrate=1500,z.resMode=Tn.TRTCVideoResolutionModeLandscape,z.minVideoBitrate=0,z.enableAdjustRes=!0,h.setVideoEncoderParam(z),await h.startCameraPreview(H),n.setHasStartedCamera(!0)}}}),J(Vo,async R=>{if(R&&!Po.value){await h.startMicrophone(),n.setHasStartedMicrophone(!0);const H=await h.getMicrophoneList();n.currentMicrophoneId||n.setCurrentMicrophoneId(H[0].deviceId),n.currentSpeakerId||n.setCurrentSpeakerId(H[0].deviceId),await h.setCurrentMicrophone(n.currentMicrophoneId)}}),ie(async()=>{h.on(L.onUserEnterRoom,W),h.on(L.onUserLeaveRoom,E),h.on(L.onUserAVEnabled,q),h.on(L.onUserAVDisabled,fe),h.on(L.onUserVideoAvailable,Se),h.on(L.onUserAudioAvailable,dt)}),Re(()=>{h.off(L.onUserEnterRoom,W),h.off(L.onUserLeaveRoom,E),h.off(L.onUserAVEnabled,q),h.off(L.onUserAVDisabled,fe),h.off(L.onUserVideoAvailable,Se),h.off(L.onUserAudioAvailable,dt)}),(R,H)=>(c(),_("div",{class:w(F.value)},[ne(p("div",{ref_key:"enlargedContainerRef",ref:I,class:"enlarged-stream-container"},[f.value?(c(),x(io,{key:0,stream:f.value,style:Ne(o.value)},null,8,["stream","style"])):B("",!0)],512),[[re,s($)]]),p("div",{class:w(["stream-list-container",`${l.value?"":"hide-list"}`])},[p("div",{ref_key:"streamListRef",ref:M,class:"stream-list"},[(c(!0),_(te,null,Ae(s(a),(z,X)=>ne((c(),x(io,{key:X,stream:z,"enlarge-dom-id":s(g),class:"single-stream",style:Ne(t.value),onDblclick:me=>le(z)},null,8,["stream","enlarge-dom-id","style","onDblclick"])),[[re,s(v).indexOf(z)>-1]])),128))],512)],2),s($)&&e.showRoomTool?(c(),_("div",{key:0,class:w(s(V)),onClick:y},[b(ae,{"icon-name":"line-arrow-up",size:"medium"})],2)):B("",!0),s(C)&&e.showRoomTool?(c(),_("div",_u,[ne(p("div",{class:"turn-page-arrow-container left-container",onClick:A},bu,512),[[re,s(U)]]),ne(p("div",{class:"turn-page-arrow-container right-container",onClick:m},Cu,512),[[re,s(T)]])])):B("",!0)],2))}});const Su=se(Au,[["__scopeId","data-v-98f6ffa1"]]),Iu={class:"content-container"},Bu=N({__name:"index",props:{showRoomTool:{type:Boolean}},setup(e){return(t,o)=>(c(),_("div",Iu,[b(Su,{"show-room-tool":e.showRoomTool},null,8,["show-room-tool"])]))}});const ku=se(Bu,[["__scopeId","data-v-91ccc174"]]);var rt=(e=>(e.UNMUTE_LOCAL_MIC_FAIL_MUTE_ALL="\u5DF2\u88AB\u5168\u5458\u9759\u97F3\uFF0C\u65E0\u6CD5\u6253\u5F00\u9EA6\u514B\u98CE",e.UNMUTE_LOCAL_MIC_FAIL_MUTE_BY_MASTER="\u5DF2\u88AB\u4E3B\u6301\u4EBA\u9759\u97F3\uFF0C\u65E0\u6CD5\u6253\u5F00\u9EA6\u514B\u98CE",e.UNMUTE_LOCAL_MIC_FAIL_AUDIENCE="\u7533\u8BF7\u53D1\u8A00\u623F\u95F4\uFF0C\u8BF7\u5148\u4E3E\u624B\u7533\u8BF7\u4E0A\u9EA6",e.UNMUTE_LOCAL_CAMERA_FAIL_MUTE_ALL="\u5DF2\u88AB\u5168\u5458\u9759\u753B\uFF0C\u65E0\u6CD5\u6253\u5F00\u89C6\u9891",e.UNMUTE_LOCAL_CAMERA_FAIL_MUTE_BY_MASTER="\u5DF2\u88AB\u4E3B\u6301\u4EBA\u9759\u753B\uFF0C\u65E0\u6CD5\u6253\u5F00\u89C6\u9891",e.UNMUTE_LOCAL_CAMERA_FAIL_AUDIENCE="\u7533\u8BF7\u53D1\u8A00\u623F\u95F4\uFF0C\u8BF7\u5148\u4E3E\u624B\u7533\u8BF7\u4E0A\u9EA6",e))(rt||{}),ge=(e=>(e[e.NORMAL=3e3]="NORMAL",e[e.LONG=5e3]="LONG",e))(ge||{});const Fu={class:"audio-control-container"},wu=N({__name:"AudioControl",setup(e){const t=Z(),o=Me(),{localStream:n,isDefaultOpenMicrophone:a,hasStartedMicrophone:u,isLocalAudioMuted:i}=Q(o),{isLocalAudioIconDisable:r,isMuteAllAudio:l,isAudience:f}=Q(t),g=k(!1),d=k(),v=k();J(a,A=>{o.setIsLocalAudioMuted(!A)},{immediate:!0}),J(n,A=>{o.setIsLocalAudioMuted(!A.isAudioStreamAvailable)},{immediate:!0});function C(){if(r.value){let A="";l.value?A=rt.UNMUTE_LOCAL_MIC_FAIL_MUTE_ALL:f.value&&(A=rt.UNMUTE_LOCAL_MIC_FAIL_AUDIENCE),ce({type:"warning",message:A,duration:ge.NORMAL});return}if(o.setIsLocalAudioMuted(!i.value),!i.value&&!u.value){h.startMicrophone(),o.setHasStartedMicrophone(!0);return}h.muteLocalMicrophone(i.value),g.value=!1}function U(){g.value?g.value=!1:g.value=!0}function T(A){var m,F;g.value&&!((m=d.value)!=null&&m.$el.contains(A.target))&&!((F=v.value)!=null&&F.$el.contains(A.target))&&(g.value=!1)}return ie(()=>{document.addEventListener("click",T,!0)}),Re(()=>{document.removeEventListener("click",T,!0)}),(A,m)=>(c(),_("div",Fu,[b(xe,{ref_key:"audioIconButtonRef",ref:d,title:"\u9EA6\u514B\u98CE","has-more":!0,"show-more":g.value,disabled:s(r),onClickIcon:C,onClickMore:U},{default:D(()=>[b(So,{"audio-volume":s(n).audioVolume,"is-muted":s(i),"is-disabled":s(r)},null,8,["audio-volume","is-muted","is-disabled"])]),_:1},8,["show-more","disabled"]),ne(b(Io,{ref_key:"audioSettingRef",ref:v,class:"audio-tab"},null,512),[[re,g.value]])]))}});const Mu=se(wu,[["__scopeId","data-v-8425b95d"]]);const Uo=e=>(We("data-v-c01e1d7f"),e=e(),Ge(),e),$u={key:0,class:"screen-share-control-container"},Ru=Uo(()=>p("span",null,"\u7ED3\u675F\u5171\u4EAB",-1)),xu=Uo(()=>p("span",null,"\u662F\u5426\u7ED3\u675F\u5F53\u524D\u7684\u5171\u4EAB\u5C4F\u5E55\uFF0C\u505C\u6B62\u540E\u6240\u6709\u4EBA\u5C06\u65E0\u6CD5\u7EE7\u7EED\u89C2\u770B\u5C4F\u5E55\u5185\u5BB9",-1)),Tu=he("\u505C\u6B62\u5171\u4EAB"),Du=he("\u53D6\u6D88"),Lu=N({__name:"Index",setup(e){const t="[ScreenShareControl]",o=Z(),{shareUserId:n,shareUserSig:a,isAudience:u,role:i}=Q(o),r=S(()=>n.value&&(a==null?void 0:a.value)),l=k(),f=k(!1),g=k(!1),d=k(!1),v=S(()=>f.value?"\u5C4F\u5E55\u5171\u4EAB\u4E2D":"\u5171\u4EAB\u5C4F\u5E55"),C=S(()=>u.value?G.ScreenShareDisabled:f.value?G.ScreenSharing:G.ScreenShare);J(i,(F,I)=>{I===oe.ANCHOR&&F===oe.AUDIENCE&&f.value&&m()}),ie(()=>{h.on(L.onWebScreenSharingStopped,m)}),Re(()=>{h.off(L.onWebScreenSharingStopped,m)});async function U(){if(u.value){ce({type:"warning",message:"\u60A8\u5F53\u524D\u6CA1\u6709\u5171\u4EAB\u6743\u9650\uFF0C\u8BF7\u5148\u4E3E\u624B\u7533\u8BF7\u4E0A\u53F0\u83B7\u53D6\u5171\u4EAB\u6743\u9650",duration:ge.LONG});return}if(f.value){g.value=!0;return}try{const F=await h.startScreenShare({shareUserId:n.value,shareUserSig:(a==null?void 0:a.value)||""});F.code===0?f.value=!0:(ee.error(`${t}startScreenShare error: ${F.code} ${F.message}`),ce({type:"warning",message:F.message,duration:ge.LONG}))}catch(F){throw ee.error(`${t}startScreenShare error:`,F),F}}function T(){g.value=!1,f.value&&(d.value=!0)}function A(){d.value=!1}async function m(){if(f.value)try{await h.stopScreenShare(),d.value=!1,f.value=!1}catch(F){ee.error(`${t}stopScreenShare error:`,F)}}return(F,I)=>{const M=Ct,V=zt;return s(r)?(c(),_("div",$u,[b(xe,{ref_key:"btnStopRef",ref:l,disabled:s(u),title:s(v),"icon-name":s(C),onClick:U},null,8,["disabled","title","icon-name"]),g.value?(c(),_("div",{key:0,class:"stop-share-region",onClick:T},[b(ae,{class:"stop-share-icon","icon-name":s(G).ScreenShareStopped},null,8,["icon-name"]),Ru])):B("",!0),b(V,{modelValue:d.value,"onUpdate:modelValue":I[0]||(I[0]=y=>d.value=y),class:"custom-element-class",width:"420px",title:"\u662F\u5426\u505C\u6B62\u5C4F\u5E55\u5171\u4EAB\uFF1F",modal:!0,"append-to-body":!0,"before-close":A},{footer:D(()=>[p("span",null,[b(M,{type:"primary",onClick:m},{default:D(()=>[Tu]),_:1}),b(M,{type:"default",onClick:A},{default:D(()=>[Du]),_:1})])]),default:D(()=>[xu]),_:1},8,["modelValue"])])):B("",!0)}}});const Uu=se(Lu,[["__scopeId","data-v-c01e1d7f"]]);function Nu(e,t){let o;return function(...n){o>0&&clearTimeout(o),o=window.setTimeout(()=>{e.apply(this,n),o=-1},t)}}function Ou(e,t){let o=0;return function(...n){const a=Date.now();a-o>t&&(e.apply(this,n),o=a)}}function ju(e){const t=e;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():(t.msRequestFullscreen||t.msRequestFullscreen)&&t.msRequestFullscreen()}function Vu(){if(!document.fullscreenElement)return;const e=document;e.exitFullscreen?e.exitFullscreen():e.msExitFullscreen?e.msExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitExitFullscreen&&e.webkitExitFullscreen()}const Pu={class:"fullscreen-control-container"},Hu=N({__name:"FullScreenControl",setup(e){const t=k(!1),o=S(()=>t.value?"\u9000\u51FA\u5168\u5C4F":"\u5168\u5C4F"),n=S(()=>t.value?G.ExitFullScreen:G.FullScreen);function a(){if(t.value)Vu();else{const i=document.getElementById("roomContainer");i&&ju(i)}}function u(){t.value=!t.value}return ie(()=>{document.addEventListener("fullscreenchange",u)}),Re(()=>{document.removeEventListener("fullscreenchange",u)}),(i,r)=>(c(),_("div",Pu,[b(xe,{title:s(o),"icon-name":s(n),onClick:a},null,8,["title","icon-name"])]))}}),zu={class:"invite-control-container"},qu=N({__name:"InviteControl",setup(e){const t=Z(),{sidebarName:o}=Q(t),n=S(()=>o.value==="invite"?G.InviteActive:G.Invite);function a(){if(t.setSidebarOpenStatus&&t.sidebarName==="invite"){t.setSidebarOpenStatus(!1),t.setSidebarName("");return}t.setSidebarOpenStatus(!0),t.setSidebarName("invite")}return(u,i)=>(c(),_("div",zu,[b(xe,{title:"\u9080\u8BF7\u6210\u5458","icon-name":s(n),onClickIcon:a},null,8,["icon-name"])]))}}),Ku={class:"video-control-container"},Wu=N({__name:"VideoControl",setup(e){const t=Z(),o=Me(),{isDefaultOpenCamera:n,localStream:a,isLocalVideoMuted:u}=Q(o),{isLocalVideoIconDisable:i,isMuteAllVideo:r,isAudience:l}=Q(t),f=k(!1),g=k(),d=k(),v=S(()=>i.value?G.CameraOffDisabled:u.value?G.CameraOff:G.CameraOn);J(n,A=>{u.value=!A},{immediate:!0}),J(a,A=>{u.value=!A.isVideoStreamAvailable},{immediate:!0});function C(){if(i.value){let A="";r.value?A=rt.UNMUTE_LOCAL_CAMERA_FAIL_MUTE_ALL:l.value&&(A=rt.UNMUTE_LOCAL_CAMERA_FAIL_AUDIENCE),ce({type:"warning",message:A,duration:ge.NORMAL});return}if(o.setIsLocalVideoMuted(!u.value),u.value)h.stopCameraPreview();else{const A=document.getElementById(`${o.localStream.userId}_main`);A&&h.startCameraPreview(A)}f.value=!1}function U(){f.value?f.value=!1:f.value=!0}function T(A){var m,F;f.value&&!((m=g.value)!=null&&m.$el.contains(A.target))&&!((F=d.value)!=null&&F.$el.contains(A.target))&&(f.value=!1)}return ie(()=>{document.addEventListener("click",T,!0)}),Re(()=>{document.removeEventListener("click",T,!0)}),(A,m)=>(c(),_("div",Ku,[b(xe,{ref_key:"videoIconButtonRef",ref:g,title:"\u6444\u50CF\u5934","icon-name":s(v),"has-more":!0,disabled:s(i),onClickIcon:C,onClickMore:U},null,8,["icon-name","disabled"]),ne(b(Bo,{ref_key:"videoSettingRef",ref:d,class:"video-tab"},null,512),[[re,f.value]])]))}});const Gu=se(Wu,[["__scopeId","data-v-ef289b00"]]),Yu={class:"invite-control-container"},Qu=N({__name:"ManageMemberControl",setup(e){const t=Z(),{sidebarName:o}=Q(t),n=S(()=>o.value==="manage-member"?G.ManageMemberActive:G.ManageMember);function a(){if(t.setSidebarOpenStatus&&o.value==="manage-member"){t.setSidebarOpenStatus(!1),t.setSidebarName("");return}t.setSidebarOpenStatus(!0),t.setSidebarName("manage-member")}return(u,i)=>(c(),_("div",Yu,[b(xe,{title:"\u7BA1\u7406\u6210\u5458","icon-name":s(n),onClickIcon:a},null,8,["icon-name"])]))}}),Xu={class:"chat-control-container"},Ju=N({__name:"ChatControl",setup(e){const t=Z(),{sidebarName:o}=Q(t),n=S(()=>o.value==="chat"?G.ChatActive:G.Chat);function a(){if(t.setSidebarOpenStatus&&t.sidebarName==="chat"){t.setSidebarOpenStatus(!1),t.setSidebarName("");return}t.setSidebarOpenStatus(!0),t.setSidebarName("chat")}return(u,i)=>(c(),_("div",Xu,[b(xe,{title:"\u804A\u5929","icon-name":s(n),onClickIcon:a},null,8,["icon-name"])]))}});function No(){const e=Me(),{applyToAnchorList:t}=Q(e);async function o(d){const{userId:v}=d;v&&e.addApplyToAnchorUser(v)}function n(d){const{userId:v}=d;e.removeApplyToAnchorUser(v)}function a(d,v){h.replySpeechApplication(d,v),e.removeApplyToAnchorUser(d)}function u(d){const{userId:v}=d;h.replySpeechApplication(v,!0),e.removeApplyToAnchorUser(v)}function i(d){const{userId:v}=d;h.replySpeechApplication(v,!1),e.removeApplyToAnchorUser(v)}function r(){t.value.forEach(d=>{h.replySpeechApplication(d.userId,!1),e.removeApplyToAnchorUser(d.userId)})}ie(()=>{h.on(L.onReceiveSpeechApplication,o),h.on(L.onSpeechApplicationCancelled,n)}),nt(()=>{h.off(L.onReceiveSpeechApplication,o),h.off(L.onSpeechApplicationCancelled,n)});async function l(d){const{userId:v,userName:C}=d;switch((await h.sendSpeechInvitation(v)).code){case et.ACCEPTED:ce({type:"success",message:`${C||v} \u63A5\u53D7\u4E86\u4E0A\u53F0\u9080\u8BF7`,duration:ge.NORMAL}),e.removeInviteToAnchorUser(v);break;case et.REJECTED:ce({type:"warning",message:`${C||v} \u62D2\u7EDD\u4E86\u4E0A\u53F0\u9080\u8BF7`,duration:ge.NORMAL}),e.removeInviteToAnchorUser(v);break;case et.CANCELLED:break}}function f(d){h.cancelSpeechInvitation(d.userId)}function g(d){h.kickUserOffStage(d.userId)}return{handleUserApply:a,agreeUserOnStage:u,denyUserOnStage:i,denyAllUserApply:r,inviteUserOnStage:l,cancelInviteUserOnStage:f,kickUserOffStage:g}}const Zu={class:"apply-control-container"},ei={class:"attention master-attention"},ti={class:"info"},oi={class:"title-container"},ni=p("span",{class:"title"},"\u8BF7\u6C42\u4E0A\u53F0\u7533\u8BF7",-1),si={class:"apply-list"},ai={class:"user-info"},ui=["src"],ii={class:"user-name"},ri={class:"control-container"},li=["onClick"],ci=["onClick"],di={class:"apply-footer"},fi=N({__name:"MasterApplyControl",setup(e){const t=Z(),o=Me(),{handleUserApply:n,denyAllUserApply:a}=No(),{isMaster:u,showApplyUserList:i}=Q(t),{applyToAnchorList:r}=Q(o),l=k(),f=k(),g=S(()=>r.value.length>0);function d(){u.value&&t.setShowApplyUserList(!i.value)}function v(){t.setShowApplyUserList(!1)}function C(U){var T,A;i.value&&!((T=l.value)!=null&&T.$el.contains(U.target))&&!((A=f.value)!=null&&A.contains(U.target))&&t.setShowApplyUserList(!1)}return ie(()=>{document.addEventListener("click",C,!0)}),nt(()=>{document.removeEventListener("click",C,!0)}),(U,T)=>(c(),_("div",Zu,[b(xe,{ref_key:"masterApplyControlRef",ref:l,title:"\u4E3E\u624B","icon-name":s(G).ApplyOnSeat,onClickIcon:d},null,8,["icon-name"]),ne(p("div",ei,[b(ae,{"icon-name":"apply-big-icon",class:"apply-big-icon"}),p("span",ti,Y(s(r).length),1)],512),[[re,s(g)&&!s(i)]]),ne(p("div",{ref_key:"masterApplyListRef",ref:f,class:"apply-list-container"},[p("div",oi,[ni,b(ae,{"icon-name":"close",size:"medium",class:"close",onClick:v})]),p("div",si,[(c(!0),_(te,null,Ae(s(r),(A,m)=>(c(),_("div",{key:m,class:"apply-item"},[p("div",ai,[p("img",{class:"user-avatar",src:A.userAvatar},null,8,ui),p("span",ii,Y(A.userName||A.userId),1)]),p("div",ri,[p("div",{class:"button primary",onClick:F=>s(n)(A.userId,!0)},"\u540C\u610F",8,li),p("div",{class:"button outline",onClick:F=>s(n)(A.userId,!1)},"\u62D2\u7EDD",8,ci)])]))),128))]),p("div",di,[p("div",{class:"button outline deny-all",onClick:T[0]||(T[0]=(...A)=>s(a)&&s(a)(...A))},"\u5168\u90E8\u62D2\u7EDD")])],512),[[re,s(i)]])]))}});const pi={class:"apply-control-container"},mi={class:"attention member-attention"},vi=p("span",{class:"info"},"\u5982\u679C\u60A8\u60F3\u53D1\u8A00\u8BF7\u5148\u4E3E\u624B\u7533\u8BF7\u4E0A\u9EA6",-1),gi=p("span",null,"\u540C\u610F\u4E0A\u53F0\u540E\u53EF\u6253\u5F00\u6444\u50CF\u5934\u548C\u9EA6\u514B\u98CE\uFF0C\u662F\u5426\u540C\u610F\u4E0A\u53F0\uFF1F",-1),hi={class:"dialog-footer"},_i=he("\u540C\u610F"),yi=he("\u53D6\u6D88"),bi=N({__name:"MemberApplyControl",setup(e){const t=Z(),o=Me(),n=k("offSeat"),a=k(!0),u=k(""),i=k(""),r=k(!1);J(n,V=>{V==="offSeat"&&(u.value=G.ApplyOnSeat,i.value="\u4E3E\u624B"),n.value==="applying"&&(u.value=G.ApplyActive,i.value="\u624B\u653E\u4E0B"),n.value==="onSeat"&&(u.value=G.GoOffSeat,i.value="\u4E0B\u53F0")},{immediate:!0});async function l(){switch(U(),n.value){case"offSeat":f();break;case"applying":g();break;case"onSeat":d();break}}async function f(){n.value="applying";try{switch((await h.sendSpeechApplication()).code){case et.ACCEPTED:v();break;case et.REJECTED:C();break;case et.CANCELLED:break;default:break}}catch(V){console.log("member sendSpeechApplication error",V)}}async function g(){try{await h.cancelSpeechApplication(),n.value="offSeat"}catch(V){console.log("member cancelSpeechApplication",V)}}async function d(){await h.sendOffSpeaker(),n.value="offSeat",t.setRole(oe.AUDIENCE),o.setIsLocalAudioMuted(!0),o.setIsLocalVideoMuted(!0),o.updateLocalStream({isAudioStreamAvailable:!1,isVideoStreamAvailable:!1}),o.setHasStartedMicrophone(!1)}function v(){n.value="onSeat",t.setRole(oe.ANCHOR),ce({type:"success",message:"\u4E3B\u6301\u4EBA\u540C\u610F\u4E86\u4F60\u7684\u4E0A\u53F0\u7533\u8BF7",duration:ge.NORMAL})}function C(){n.value="offSeat",ce({type:"warning",message:"\u4E3B\u6301\u4EBA\u62D2\u7EDD\u4E86\u4F60\u7684\u4E0A\u53F0\u7533\u8BF7",duration:ge.NORMAL})}function U(){a.value=!1}function T(){r.value=!0}function A(){r.value=!1}function m(){ce({type:"warning",message:"\u60A8\u5DF2\u88AB\u4E3B\u6301\u4EBA\u9080\u8BF7\u4E0B\u53F0\uFF0C\u9700\u8981\u53D1\u8A00\u8BF7\u5148\u4E3E\u624B",duration:ge.NORMAL}),d()}function F(V){h.replySpeechInvitation(V),r.value=!1,V&&(n.value="onSeat",t.setRole(oe.ANCHOR))}function I(V){const{userId:y}=V;y===t.masterUserId&&n.value==="applying"&&f()}function M(V){const{userId:y}=V;y===t.masterUserId&&r.value&&(r.value=!1)}return ie(()=>{h.on(L.onReceiveSpeechInvitation,T),h.on(L.onReceiveInvitationCancelled,A),h.on(L.onUserKickOffStage,m),h.on(L.onUserAVEnabled,I),h.on(L.onUserAVDisabled,M)}),nt(()=>{h.off(L.onReceiveSpeechInvitation,T),h.off(L.onReceiveInvitationCancelled,A),h.off(L.onUserKickOffStage,m),h.off(L.onUserAVEnabled,I),h.off(L.onUserAVDisabled,M)}),(V,y)=>{const O=Ct,j=zt;return c(),_(te,null,[p("div",pi,[b(xe,{title:i.value,"icon-name":u.value,onClickIcon:l},null,8,["title","icon-name"]),ne(p("div",mi,[vi,b(ae,{"icon-name":"close",size:"medium",class:"close",onClick:U})],512),[[re,a.value]])]),b(j,{modelValue:r.value,"onUpdate:modelValue":y[2]||(y[2]=P=>r.value=P),title:"\u4E3B\u6301\u4EBA\u9080\u8BF7\u60A8\u4E0A\u53F0\u53D1\u8A00",modal:!1,"show-close":!1,"append-to-body":!0,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"500px"},{footer:D(()=>[p("span",hi,[b(O,{type:"primary",onClick:y[0]||(y[0]=P=>F(!0))},{default:D(()=>[_i]),_:1}),b(O,{onClick:y[1]||(y[1]=P=>F(!1))},{default:D(()=>[yi]),_:1})])]),default:D(()=>[gi]),_:1},8,["modelValue"])],64)}}});const Ei=N({__name:"Index",setup(e){const t=Z(),o=S(()=>Boolean(t.role)&&t.role===oe.MASTER),n=S(()=>Boolean(t.role)&&t.role!==oe.MASTER);return(a,u)=>(c(),_(te,null,[s(o)?(c(),x(fi,{key:0})):B("",!0),s(n)?(c(),x(bi,{key:1})):B("",!0)],64))}}),Ci={class:"setting-control-container"},Ai=N({__name:"SettingControl",setup(e){const t=Z(),{showSettingDialog:o}=Q(t),n=S(()=>o.value?G.SettingActive:G.Setting);function a(){t.setShowSettingDialog(!t.showSettingDialog)}return(u,i)=>(c(),_("div",Ci,[b(xe,{title:"\u8BBE\u7F6E","icon-name":s(n),onClick:a},null,8,["icon-name"])]))}});const Si=se(Ai,[["__scopeId","data-v-d648ad18"]]),Ii=e=>(We("data-v-a52294e2"),e=e(),Ge(),e),Bi={key:0},ki={key:0},Fi={key:1},wi={key:1},Mi=Ii(()=>p("div",null,"\u9009\u62E9\u4E3B\u6301\u4EBA",-1)),$i={key:0},Ri=he("\u89E3\u6563\u623F\u95F4"),xi=he("\u79BB\u5F00\u623F\u95F4"),Ti=he("\u53D6\u6D88"),Di={key:1},Li=he("\u79FB\u4EA4\u5E76\u79BB\u5F00"),Ui=he("\u53D6\u6D88"),Ni=N({__name:"EndControl",emits:["onRoomExit","onRoomDestroy"],setup(e,{emit:t}){const o="[EndControl]",n=k(0),a=k(!1),u=Z();ee.log(`${o} basicInfo:`,u);const i=Me(),{remoteAnchorList:r}=Q(i),l=on(()=>n.value===0?"\u662F\u5426\u8981\u79BB\u5F00\u623F\u95F4":"\u8BF7\u9009\u62E9\u65B0\u7684\u623F\u95F4\u4E3B\u6301\u4EBA"),f=k(""),g=k(h.getRoomUsers());function d(){a.value=!1,n.value=0}function v(){a.value||(a.value=!0),g.value=h.getRoomUsers()}function C(){d()}async function U(){try{ee.log(`${o}dismissRoom: enter`);const I=await h.destroyRoom();await h.logout(),ee.log(`${o}dismissRoom:`,I),d(),t("onRoomDestroy",{code:0,message:""})}catch(I){ee.error(`${o}dismissRoom error:`,I)}}async function T(){try{if(u.role===oe.MASTER){n.value=1;return}const I=await h.exitRoom();await h.logout(),ee.log(`${o}leaveRoom:`,I),d(),t("onRoomExit",{code:0,message:""})}catch(I){ee.error(`${o}leaveRoom error:`,I)}}async function A(){if(!!f.value)try{const I=f.value;let M=await h.transferRoomMaster(I);ee.log(`${o}transferAndLeave:`,M),M=await h.exitRoom(),ee.log(`${o}transferAndLeave:`,M),d(),t("onRoomExit",{code:0,message:""})}catch(I){ee.error(`${o}transferAndLeave error:`,I)}}const m=async()=>{if(u.userId!==u.masterUserId)try{To.alert("\u4E3B\u6301\u4EBA\u7ED3\u675F\u4F1A\u8BAE\uFF0C\u5DF2\u89E3\u6563\u623F\u95F4","\u901A\u77E5",{confirmButtonText:"\u786E\u8BA4",callback:()=>{d(),t("onRoomDestroy",{code:0,message:""})}})}catch(I){ee.error(`${o}onRoomDestroyed error:`,I)}},F=async I=>{const M=`\u4E3B\u6301\u4EBA\u5DF2\u53D8\u66F4\u4E3A${I}`;ce({type:"success",message:M}),u.masterUserId=I,u.userId===u.masterUserId&&(u.role=oe.MASTER),d()};return ie(()=>{h.on(L.onRoomDestroyed,m),h.on(L.onRoomMasterChanged,F)}),Re(()=>{h.off(L.onRoomDestroyed,m),h.off(L.onRoomMasterChanged,F)}),(I,M)=>{const V=Ln,y=Un,O=Ct,j=zt;return c(),_(te,null,[p("div",{class:"end-button",tabindex:"1",onClick:v},"\u7ED3\u675F\u4F1A\u8BAE"),b(j,{"model-value":a.value,"custom-class":"custom-element-class",title:s(l),modal:!0,"append-to-body":!0,width:"420px","before-close":C},{footer:D(()=>[n.value===0?(c(),_("div",$i,[s(u).role===s(oe).MASTER?(c(),x(O,{key:0,type:"primary",onClick:U},{default:D(()=>[Ri]),_:1})):B("",!0),s(u).role===s(oe).MASTER&&s(r).length>0||s(u).role!==s(oe).MASTER?(c(),x(O,{key:1,type:"primary",onClick:T},{default:D(()=>[xi]),_:1})):B("",!0),b(O,{onClick:C},{default:D(()=>[Ti]),_:1})])):B("",!0),n.value===1?(c(),_("div",Di,[b(O,{type:"primary",onClick:A},{default:D(()=>[Li]),_:1}),b(O,{onClick:C},{default:D(()=>[Ui]),_:1})])):B("",!0)]),default:D(()=>[n.value===0?(c(),_("div",Bi,[s(u).role===s(oe).MASTER?(c(),_("span",ki,"\u60A8\u5F53\u524D\u662F\u623F\u95F4\u4E3B\u6301\u4EBA\uFF0C\u8BF7\u9009\u62E9\u76F8\u5E94\u64CD\u4F5C\u3002\u82E5\u9009\u62E9\u201C\u79BB\u5F00\u623F\u95F4\u201D\uFF0C\u5219\u623F\u95F4\u4E0D\u4F1A\u89E3\u6563\uFF0C\u60A8\u9700\u8981\u6307\u5B9A\u65B0\u4E3B\u6301\u4EBA\u3002")):(c(),_("span",Fi,"\u786E\u5B9A\u79BB\u5F00\u623F\u95F4\u5417\uFF1F"))])):B("",!0),n.value===1?(c(),_("div",wi,[Mi,p("div",null,[b(y,{modelValue:f.value,"onUpdate:modelValue":M[0]||(M[0]=P=>f.value=P)},{default:D(()=>[(c(!0),_(te,null,Ae(s(r),P=>(c(),x(V,{key:P.userId,value:P.userId,label:P.userName},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])])])):B("",!0)]),_:1},8,["model-value","title"])],64)}}});const Oi=se(Ni,[["__scopeId","data-v-a52294e2"]]),ji={class:"footer-container"},Vi={class:"left-container"},Pi={class:"center-container"},Hi={class:"right-container"},zi=N({__name:"index",emits:["onRoomDestroy","onRoomExit"],setup(e,{emit:t}){const o=Z(),n=i=>{t("onRoomDestroy",i),Fe.reportEvent({name:"destroyRoom",ext1:"destroyRoom-success"})},a=i=>{t("onRoomExit",i),Fe.reportEvent({name:"exitRoom",ext1:"exitRoom-success"})};function u(i){Fe.reportEvent({name:i,ext1:i})}return(i,r)=>(c(),_("div",ji,[p("div",Vi,[b(Mu,{onClick:r[0]||(r[0]=l=>u("audioControl"))}),b(Gu,{onClick:r[1]||(r[1]=l=>u("videoControl"))})]),p("div",Pi,[b(Uu,{onClick:r[2]||(r[2]=l=>u("screenShareControl"))}),b(Hu,{onClick:r[3]||(r[3]=l=>u("fullScreenControl"))}),s(o).role===s(oe).MASTER?(c(),x(Qu,{key:0,onClick:r[4]||(r[4]=l=>u("manageMemberControl"))})):B("",!0),b(qu,{onClick:r[5]||(r[5]=l=>u("inviteControl"))}),b(Ju,{onClick:r[6]||(r[6]=l=>u("chatControl"))}),s(o).roomMode===s(Ht).APPLY_SPEECH?(c(),x(Ei,{key:1,onClick:r[7]||(r[7]=l=>u("applyControl"))})):B("",!0),b(Si,{onClick:r[8]||(r[8]=l=>u("settingControl"))})]),p("div",Hi,[b(Oi,{onOnRoomDestroy:n,onOnRoomExit:a})])]))}});const qi=se(zi,[["__scopeId","data-v-e1ed7560"]]),Kt=nn("chat",{state:()=>({messageList:[],isMuteChatByMater:!1}),getters:{},actions:{updateMessageList(e){this.messageList=this.messageList.concat([e])},setIsMuteChatByMater(e){this.isMuteChatByMater=e},reset(){this.messageList=[]}}}),Oo="https://web.sdk.qcloud.com/im/assets/emoji/",Ut={"[NO]":"emoji_0@2x.png","[OK]":"emoji_1@2x.png","[\u4E0B\u96E8]":"emoji_2@2x.png","[\u4E48\u4E48\u54D2]":"emoji_3@2x.png","[\u4E52\u4E53]":"emoji_4@2x.png","[\u4FBF\u4FBF]":"emoji_5@2x.png","[\u4FE1\u5C01]":"emoji_6@2x.png","[\u5077\u7B11]":"emoji_7@2x.png","[\u50B2\u6162]":"emoji_8@2x.png","[\u518D\u89C1]":"emoji_9@2x.png","[\u51B7\u6C57]":"emoji_10@2x.png","[\u51CB\u8C22]":"emoji_11@2x.png","[\u5200]":"emoji_12@2x.png","[\u5220\u9664]":"emoji_13@2x.png","[\u52FE\u5F15]":"emoji_14@2x.png","[\u53D1\u5446]":"emoji_15@2x.png","[\u53D1\u6296]":"emoji_16@2x.png","[\u53EF\u601C]":"emoji_17@2x.png","[\u53EF\u7231]":"emoji_18@2x.png","[\u53F3\u54FC\u54FC]":"emoji_19@2x.png","[\u53F3\u592A\u6781]":"emoji_20@2x.png","[\u53F3\u8F66\u5934]":"emoji_21@2x.png","[\u5410]":"emoji_22@2x.png","[\u5413]":"emoji_23@2x.png","[\u5492\u9A82]":"emoji_24@2x.png","[\u5496\u5561]":"emoji_25@2x.png","[\u5564\u9152]":"emoji_26@2x.png","[\u5618]":"emoji_27@2x.png","[\u56DE\u5934]":"emoji_28@2x.png","[\u56F0]":"emoji_29@2x.png","[\u574F\u7B11]":"emoji_30@2x.png","[\u591A\u4E91]":"emoji_31@2x.png","[\u5927\u5175]":"emoji_32@2x.png","[\u5927\u54ED]":"emoji_33@2x.png","[\u592A\u9633]":"emoji_34@2x.png","[\u594B\u6597]":"emoji_35@2x.png","[\u5976\u74F6]":"emoji_36@2x.png","[\u59D4\u5C48]":"emoji_37@2x.png","[\u5BB3\u7F9E]":"emoji_38@2x.png","[\u5C34\u5C2C]":"emoji_39@2x.png","[\u5DE6\u54FC\u54FC]":"emoji_40@2x.png","[\u5DE6\u592A\u6781]":"emoji_41@2x.png","[\u5DE6\u8F66\u5934]":"emoji_42@2x.png","[\u5DEE\u52B2]":"emoji_43@2x.png","[\u5F31]":"emoji_44@2x.png","[\u5F3A]":"emoji_45@2x.png","[\u5F69\u5E26]":"emoji_46@2x.png","[\u5F69\u7403]":"emoji_47@2x.png","[\u5F97\u610F]":"emoji_48@2x.png","[\u5FAE\u7B11]":"emoji_49@2x.png","[\u5FC3\u788E\u4E86]":"emoji_50@2x.png","[\u5FEB\u54ED\u4E86]":"emoji_51@2x.png","[\u6004\u706B]":"emoji_52@2x.png","[\u6012]":"emoji_53@2x.png","[\u60CA\u6050]":"emoji_54@2x.png","[\u60CA\u8BB6]":"emoji_55@2x.png","[\u61A8\u7B11]":"emoji_56@2x.png","[\u624B\u67AA]":"emoji_57@2x.png","[\u6253\u54C8\u6B20]":"emoji_58@2x.png","[\u6293\u72C2]":"emoji_59@2x.png","[\u6298\u78E8]":"emoji_60@2x.png","[\u62A0\u9F3B]":"emoji_61@2x.png","[\u62B1\u62B1]":"emoji_62@2x.png","[\u62B1\u62F3]":"emoji_63@2x.png","[\u62F3\u5934]":"emoji_64@2x.png","[\u6325\u624B]":"emoji_65@2x.png","[\u63E1\u624B]":"emoji_66@2x.png","[\u6487\u5634]":"emoji_67@2x.png","[\u64E6\u6C57]":"emoji_68@2x.png","[\u6572\u6253]":"emoji_69@2x.png","[\u6655]":"emoji_70@2x.png","[\u6708\u4EAE]":"emoji_71@2x.png","[\u68D2\u68D2\u7CD6]":"emoji_72@2x.png","[\u6C7D\u8F66]":"emoji_73@2x.png","[\u6C99\u53D1]":"emoji_74@2x.png","[\u6D41\u6C57]":"emoji_75@2x.png","[\u6D41\u6CEA]":"emoji_76@2x.png","[\u6FC0\u52A8]":"emoji_77@2x.png","[\u706F\u6CE1]":"emoji_78@2x.png","[\u70B8\u5F39]":"emoji_79@2x.png","[\u718A\u732B]":"emoji_80@2x.png","[\u7206\u7B4B]":"emoji_81@2x.png","[\u7231\u4F60]":"emoji_82@2x.png","[\u7231\u5FC3]":"emoji_83@2x.png","[\u7231\u60C5]":"emoji_84@2x.png","[\u732A\u5934]":"emoji_85@2x.png","[\u732B\u54AA]":"emoji_86@2x.png","[\u732E\u543B]":"emoji_87@2x.png","[\u73AB\u7470]":"emoji_88@2x.png","[\u74E2\u866B]":"emoji_89@2x.png","[\u7591\u95EE]":"emoji_90@2x.png","[\u767D\u773C]":"emoji_91@2x.png","[\u76AE\u7403]":"emoji_92@2x.png","[\u7761\u89C9]":"emoji_93@2x.png","[\u78D5\u5934]":"emoji_94@2x.png","[\u793A\u7231]":"emoji_95@2x.png","[\u793C\u54C1\u888B]":"emoji_96@2x.png","[\u793C\u7269]":"emoji_97@2x.png","[\u7BEE\u7403]":"emoji_98@2x.png","[\u7C73\u996D]":"emoji_99@2x.png","[\u7CD7\u5927\u4E86]":"emoji_100@2x.png","[\u7EA2\u53CC\u559C]":"emoji_101@2x.png","[\u7EA2\u706F\u7B3C]":"emoji_102@2x.png","[\u7EB8\u5DFE]":"emoji_103@2x.png","[\u80DC\u5229]":"emoji_104@2x.png","[\u8272]":"emoji_105@2x.png","[\u836F]":"emoji_106@2x.png","[\u83DC\u5200]":"emoji_107@2x.png","[\u86CB\u7CD5]":"emoji_108@2x.png","[\u8721\u70DB]":"emoji_109@2x.png","[\u8857\u821E]":"emoji_110@2x.png","[\u8870]":"emoji_111@2x.png","[\u897F\u74DC]":"emoji_112@2x.png","[\u8C03\u76AE]":"emoji_113@2x.png","[\u8C61\u68CB]":"emoji_114@2x.png","[\u8DF3\u7EF3]":"emoji_115@2x.png","[\u8DF3\u8DF3]":"emoji_116@2x.png","[\u8F66\u53A2]":"emoji_117@2x.png","[\u8F6C\u5708]":"emoji_118@2x.png","[\u9119\u89C6]":"emoji_119@2x.png","[\u9177]":"emoji_120@2x.png","[\u949E\u7968]":"emoji_121@2x.png","[\u94BB\u6212]":"emoji_122@2x.png","[\u95EA\u7535]":"emoji_123@2x.png","[\u95ED\u5634]":"emoji_124@2x.png","[\u95F9\u949F]":"emoji_125@2x.png","[\u9634\u9669]":"emoji_126@2x.png","[\u96BE\u8FC7]":"emoji_127@2x.png","[\u96E8\u4F1E]":"emoji_128@2x.png","[\u9752\u86D9]":"emoji_129@2x.png","[\u9762\u6761]":"emoji_130@2x.png","[\u97AD\u70AE]":"emoji_131@2x.png","[\u98CE\u8F66]":"emoji_132@2x.png","[\u98DE\u543B]":"emoji_133@2x.png","[\u98DE\u673A]":"emoji_134@2x.png","[\u9965\u997F]":"emoji_135@2x.png","[\u9999\u8549]":"emoji_136@2x.png","[\u9AB7\u9AC5]":"emoji_137@2x.png","[\u9EA6\u514B\u98CE]":"emoji_138@2x.png","[\u9EBB\u5C06]":"emoji_139@2x.png","[\u9F13\u638C]":"emoji_140@2x.png","[\u9F87\u7259]":"emoji_141@2x.png"},Ki=["[\u9F87\u7259]","[\u8C03\u76AE]","[\u6D41\u6C57]","[\u5077\u7B11]","[\u518D\u89C1]","[\u6572\u6253]","[\u64E6\u6C57]","[\u732A\u5934]","[\u73AB\u7470]","[\u6D41\u6CEA]","[\u5927\u54ED]","[\u5618]","[\u9177]","[\u6293\u72C2]","[\u59D4\u5C48]","[\u4FBF\u4FBF]","[\u70B8\u5F39]","[\u83DC\u5200]","[\u53EF\u7231]","[\u8272]","[\u5BB3\u7F9E]","[\u5F97\u610F]","[\u5410]","[\u5FAE\u7B11]","[\u6012]","[\u5C34\u5C2C]","[\u60CA\u6050]","[\u51B7\u6C57]","[\u7231\u5FC3]","[\u793A\u7231]","[\u767D\u773C]","[\u50B2\u6162]","[\u96BE\u8FC7]","[\u60CA\u8BB6]","[\u7591\u95EE]","[\u56F0]","[\u4E48\u4E48\u54D2]","[\u61A8\u7B11]","[\u7231\u60C5]","[\u8870]","[\u6487\u5634]","[\u9634\u9669]","[\u594B\u6597]","[\u53D1\u5446]","[\u53F3\u54FC\u54FC]","[\u62B1\u62B1]","[\u574F\u7B11]","[\u98DE\u543B]","[\u9119\u89C6]","[\u6655]","[\u5927\u5175]","[\u53EF\u601C]","[\u5F3A]","[\u5F31]","[\u63E1\u624B]","[\u80DC\u5229]","[\u62B1\u62F3]","[\u51CB\u8C22]","[\u7C73\u996D]","[\u86CB\u7CD5]","[\u897F\u74DC]","[\u5564\u9152]","[\u74E2\u866B]","[\u52FE\u5F15]","[OK]","[\u7231\u4F60]","[\u5496\u5561]","[\u6708\u4EAE]","[\u5200]","[\u53D1\u6296]","[\u5DEE\u52B2]","[\u62F3\u5934]","[\u5FC3\u788E\u4E86]","[\u592A\u9633]","[\u793C\u7269]","[\u76AE\u7403]","[\u9AB7\u9AC5]","[\u6325\u624B]","[\u95EA\u7535]","[\u9965\u997F]","[\u5492\u9A82]","[\u6298\u78E8]","[\u62A0\u9F3B]","[\u9F13\u638C]","[\u7CD7\u5927\u4E86]","[\u5DE6\u54FC\u54FC]","[\u6253\u54C8\u6B20]","[\u5FEB\u54ED\u4E86]","[\u5413]","[\u7BEE\u7403]","[\u4E52\u4E53]","[NO]","[\u8DF3\u8DF3]","[\u6004\u706B]","[\u8F6C\u5708]","[\u78D5\u5934]","[\u56DE\u5934]","[\u8DF3\u7EF3]","[\u6FC0\u52A8]","[\u8857\u821E]","[\u732E\u543B]","[\u5DE6\u592A\u6781]","[\u53F3\u592A\u6781]","[\u95ED\u5634]","[\u732B\u54AA]","[\u7EA2\u53CC\u559C]","[\u97AD\u70AE]","[\u7EA2\u706F\u7B3C]","[\u9EBB\u5C06]","[\u9EA6\u514B\u98CE]","[\u793C\u54C1\u888B]","[\u4FE1\u5C01]","[\u8C61\u68CB]","[\u5F69\u5E26]","[\u8721\u70DB]","[\u7206\u7B4B]","[\u68D2\u68D2\u7CD6]","[\u5976\u74F6]","[\u9762\u6761]","[\u9999\u8549]","[\u98DE\u673A]","[\u5DE6\u8F66\u5934]","[\u8F66\u53A2]","[\u53F3\u8F66\u5934]","[\u591A\u4E91]","[\u4E0B\u96E8]","[\u949E\u7968]","[\u718A\u732B]","[\u706F\u6CE1]","[\u98CE\u8F66]","[\u95F9\u949F]","[\u96E8\u4F1E]","[\u5F69\u7403]","[\u94BB\u6212]","[\u6C99\u53D1]","[\u7EB8\u5DFE]","[\u624B\u67AA]","[\u9752\u86D9]"];function Wi(e){const t=[];let o=e,n=-1,a=-1;for(;o!=="";)switch(n=o.indexOf("["),a=o.indexOf("]"),n){case 0:if(a===-1)t.push({name:"text",text:o}),o="";else{const u=o.slice(0,a+1);Ut[u]?(t.push({name:"img",src:Oo+Ut[u]}),o=o.substring(a+1)):(t.push({name:"text",text:"["}),o=o.slice(1))}break;case-1:t.push({name:"text",text:o}),o="";break;default:t.push({name:"text",text:o.slice(0,n)}),o=o.substring(n);break}return t}const Gi={key:0,class:"text-box"},Yi=["src"],Qi=N({__name:"MessageText",props:["data"],setup(e){const t=e,o=n=>Wi(n);return(n,a)=>(c(!0),_(te,null,Ae(o(t.data),(u,i)=>(c(),_(te,{key:i},[u.name==="text"?(c(),_("span",Gi,Y(u.text),1)):u.name==="img"?(c(),_("img",{key:1,class:"text-img",src:u.src},null,8,Yi)):B("",!0)],64))),128))}});const Xi=se(Qi,[["__scopeId","data-v-b58ea6bb"]]),Ji={class:"message-list-container"},Zi={class:"message-list"},er={class:"message-header"},tr={class:"message-body"},or=N({__name:"MessageList",setup(e){const t=Kt(),{messageList:o}=Q(t),n=k(null);let a=!1;const u=i=>{const r=i.target;r.scrollHeight-r.scrollTop-r.clientHeight>80?a=!0:a=!1};return J(o,async(i,r)=>{if(await ve(),a){i.length>=1&&i[i.length-1].flow==="out"&&n.value&&n.value.scrollIntoView();return}n.value&&n.value.scrollIntoView()}),ie(()=>{window.addEventListener("scroll",u,!0)}),Re(()=>{window.removeEventListener("scroll",u,!0)}),(i,r)=>(c(),_("div",Ji,[p("div",Zi,[(c(!0),_(te,null,Ae(s(o),l=>(c(),_("div",{key:l.ID,class:w(["message-item",`${l.flow==="out"?"is-me":""}`])},[p("div",er,Y(l.nick||l.from),1),p("div",tr,[l.type==="TIMTextElem"?(c(),x(Xi,{key:0,data:l.payload.text},null,8,["data"])):B("",!0)])],2))),128))]),p("div",{ref_key:"messageBottomEl",ref:n,class:"message-bottom"},null,512)]))}});const nr=se(or,[["__scopeId","data-v-7f6c4ccf"]]);const sr={class:"emoji-tool"},ar={class:"emoji-list"},ur=["onClick"],ir=["src"],rr=N({__name:"emoji",emits:["chooseEmoji"],setup(e,{emit:t}){const o=k(!1),n=r=>{const l=r;i(),t("chooseEmoji",l)},a=r=>{r.target.closest(".emoji-popover")||i()},u=()=>{o.value=!o.value},i=()=>{o.value=!1};return(r,l)=>{const f=Gs;return c(),_("div",sr,[b(f,{visible:o.value,"onUpdate:visible":l[0]||(l[0]=g=>o.value=g),"popper-class":"emoji-popover",placement:"top",width:400,"show-arrow":!1,teleported:!1},{reference:D(()=>[ne(b(ae,{class:"arrow emoji-icon","icon-name":"emoji",size:"medium",onClick:u},null,512),[[s(Nn),a]])]),default:D(()=>[p("div",ar,[(c(!0),_(te,null,Ae(s(Ki),(g,d)=>(c(),_("div",{key:d,class:"emoji-item",onClick:v=>n(g)},[p("img",{src:s(Oo)+s(Ut)[g]},null,8,ir)],8,ur))),128))])]),_:1},8,["visible"])])}}});const lr=se(rr,[["__scopeId","data-v-4ab16abd"]]),cr=["disabled","placeholder","onKeyup"],dr={key:0,class:"chat-editor-toolbar"},fr={class:"left-section"},pr=N({__name:"ChatEditor",setup(e){const t=k(),o=Kt(),n=k(""),a=async()=>{const i=n.value.replace(`
`,"");if(n.value="",i!=="")try{const r=await h.sendChatMessage(i),{code:l,data:f}=r;l===0&&o.updateMessageList(f)}catch{ce.error("\u53D1\u9001\u6D88\u606F\u5931\u8D25")}},u=i=>{n.value+=i,t.value.focus()};return(i,r)=>(c(),_("div",{class:w(["chat-editor",s(o).isMuteChatByMater?"disable-editor":""])},[ne(p("textarea",{ref_key:"editorInputEle",ref:t,"onUpdate:modelValue":r[0]||(r[0]=l=>n.value=l),class:"content-bottom-input",disabled:s(o).isMuteChatByMater,placeholder:s(o).isMuteChatByMater?"\u5DF2\u88AB\u4E3B\u6301\u4EBA\u7981\u8A00":"\u8BF4\u70B9\u4EC0\u4E48",onKeyup:Qe(a,["enter"])},null,40,cr),[[sn,n.value]]),s(o).isMuteChatByMater?B("",!0):(c(),_("div",dr,[p("div",fr,[b(lr,{onChooseEmoji:u})]),p("div",{class:w(["send-btn",`${n.value.length>0?"active":""}`]),onClick:a},"\u53D1\u9001",2)]))],2))}});const mr=se(pr,[["__scopeId","data-v-b2b4b6ae"]]),vr={class:"chat-container"},gr=N({__name:"index",setup(e){return(t,o)=>(c(),_("div",vr,[b(nr),b(mr)]))}});const hr=se(gr,[["__scopeId","data-v-11fd6e04"]]),jo=e=>(We("data-v-712dfb35"),e=e(),Ge(),e),_r={class:"invite-container"},yr=jo(()=>p("div",{class:"invite-notice"},"\u60A8\u53EF\u4EE5\u901A\u8FC7\u590D\u5236\u623F\u95F4\u53F7\u6216\u8005\u9080\u8BF7\u94FE\u63A5\u7684\u65B9\u5F0F\u9080\u8BF7\u66F4\u591A\u4EBA\u52A0\u5165\u623F\u95F4",-1)),br={class:"invite-content"},Er={class:"invite-item"},Cr=jo(()=>p("span",{class:"invite-title"},"\u901A\u8FC7\u623F\u95F4\u53F7\u9080\u8BF7",-1)),Ar={class:"input-area"},Sr=["value"],Ir=N({__name:"index",setup(e){const t=Z(),{roomId:o}=Q(t),{origin:n,pathname:a}=location;S(()=>window.__TRTCElectron?`https://web.sdk.qcloud.com/#/home?roomId=${o.value}`:`${n}${a}#/home?roomId=${o.value}`),S(()=>`tuiroom://joinroom?roomId=${o.value}`);function u(i){navigator.clipboard.writeText(`${i}`),ce({message:"\u590D\u5236\u6210\u529F",type:"success"})}return(i,r)=>(c(),_("div",_r,[yr,p("div",br,[p("div",Er,[Cr,p("div",Ar,[p("input",{class:"input",type:"text",value:s(o)},null,8,Sr),b(ae,{"icon-name":"copy-icon",class:"copy",onClick:r[0]||(r[0]=l=>u(s(o)))})])])])]))}});const Br=se(Ir,[["__scopeId","data-v-712dfb35"]]),kr=N({__name:"index",setup(e){return Z(),(t,o)=>null}});const Fr=se(kr,[["__scopeId","data-v-1fe598a3"]]);const wr={class:"member-basic-info"},Mr=["src"],$r={class:"user-name"},Rr={key:0,class:"user-extra-info"},xr={key:1,class:"user-extra-info"},Tr={key:2,class:"user-extra-info"},Dr={key:0,class:"member-av-state"},Lr={key:0},Ur={key:1},Nr={key:2},Or=N({__name:"memberInfo",props:{userInfo:null,showMemberControl:null},setup(e){const t=e,o=Z(),{isMaster:n}=Q(o),a=S(()=>o.userId===t.userInfo.userId);return(u,i)=>{var r,l;return c(),_(te,null,[p("div",wr,[p("img",{class:"user-avatar",src:e.userInfo.userAvatar||s(Ao)},null,8,Mr),p("div",$r,Y(e.userInfo.userName||e.userInfo.userId),1),s(n)&&s(a)?(c(),_("div",Rr," \u4E3B\u6301\u4EBA, \u6211 ")):s(a)?(c(),_("div",xr," \u6211 ")):s(o).masterUserId===e.userInfo.userId?(c(),_("div",Tr," \u4E3B\u6301\u4EBA ")):B("",!0)]),!s(a)&&!e.showMemberControl?(c(),_("div",Dr,[e.userInfo.role!==s(oe).AUDIENCE?(c(),_("div",Lr,[b(ae,{class:"setting-icon","icon-name":(r=e.userInfo.mainStreamInfo)!=null&&r.isAudioStreamAvailable?s(G).MicOn:s(G).MicOff,size:"large"},null,8,["icon-name"]),b(ae,{class:"setting-icon video-icon","icon-name":(l=e.userInfo.mainStreamInfo)!=null&&l.isVideoStreamAvailable?s(G).CameraOn:s(G).CameraOff,size:"large"},null,8,["icon-name"])])):B("",!0),e.userInfo.role===s(oe).AUDIENCE&&!e.userInfo.isUserApplyingToAnchor?(c(),_("div",Ur,[b(ae,{class:"setting-icon","icon-name":s(G).MicOffDisabled,size:"large"},null,8,["icon-name"]),b(ae,{class:"setting-icon video-icon","icon-name":s(G).CameraOffDisabled,size:"large"},null,8,["icon-name"])])):B("",!0),e.userInfo.role===s(oe).AUDIENCE&&e.userInfo.isUserApplyingToAnchor?(c(),_("div",Nr,[b(ae,{"icon-name":"apply-active"})])):B("",!0)])):B("",!0)],64)}}});const jr={key:0,class:"member-control-container"},Vr={class:"more-container"},Pr=he(" \u66F4\u591A "),Hr={class:"user-operate-list"},zr=["onClick"],qr=N({__name:"memberControl",props:{userInfo:null},setup(e){const t=e,o=Z(),n=Me(),{agreeUserOnStage:a,denyUserOnStage:u,inviteUserOnStage:i,cancelInviteUserOnStage:r,kickUserOffStage:l}=No(),f=k(!1),g=S(()=>o.userId===t.userInfo.userId),d=S(()=>t.userInfo.role===oe.ANCHOR),v=S(()=>t.userInfo.role===oe.AUDIENCE),C=S(()=>o.roomMode===Ht.APPLY_SPEECH),U=S(()=>{const $={title:"",func:W=>{}};return d.value?($.title=t.userInfo.isAudioMutedByMaster?"\u89E3\u9664\u7981\u8A00":"\u7981\u8A00",$.func=P):v.value&&(t.userInfo.isUserApplyingToAnchor?($.title="\u540C\u610F\u4E0A\u53F0",$.func=a):($.title=t.userInfo.isInvitingUserToAnchor?"\u53D6\u6D88\u9080\u8BF7\u4E0A\u53F0":"\u9080\u8BF7\u4E0A\u53F0",$.func=j)),$}),T={title:"\u62D2\u7EDD\u4E0A\u53F0",func:u},A={title:"\u9080\u8BF7\u4E0B\u53F0",func:l},m=S(()=>t.userInfo.isVideoMutedByMaster?"\u89E3\u9664\u7981\u753B":"\u7981\u753B"),F=S(()=>({title:m.value,func:le})),I=S(()=>t.userInfo.isChatMutedByMaster?"\u5141\u8BB8\u6587\u5B57\u804A\u5929":"\u7981\u6B62\u6587\u5B57\u804A\u5929"),M=S(()=>({title:I.value,func:Ee})),V={title:"\u8E22\u51FA\u623F\u95F4",func:Te},y=S(()=>{const $=[M.value,V];return d.value&&$.unshift(F.value),d.value&&C.value&&$.splice(1,0,A),v.value&&t.userInfo.isUserApplyingToAnchor&&$.splice(0,0,T),$});function O(){f.value=!f.value}async function j($){const{userId:W,isInvitingUserToAnchor:E}=$;E?(n.removeInviteToAnchorUser(W),r($)):(n.addInviteToAnchorUser(W),i($))}function P($){const W=$.isAudioMutedByMaster;n.setMuteUserAudio($.userId,!W),h.muteUserMicrophone($.userId,!W)}function le($){const W=$.isVideoMutedByMaster;n.setMuteUserVideo($.userId,!W),h.muteUserCamera($.userId,!W)}function Ee($){const W=$.isChatMutedByMaster;n.setMuteUserChat($.userId,!W),h.muteUserChatRoom($.userId,!W)}function Te($){h.kickOffUser($.userId)}return($,W)=>s(g)?B("",!0):(c(),_("div",jr,[p("div",{class:"mute-btn",onClick:W[0]||(W[0]=E=>s(U).func(e.userInfo))},Y(s(U).title),1),p("div",Vr,[p("div",{class:"more-btn",onClick:O},[Pr,b(ae,{class:"more-icon","icon-name":s(G).ArrowBorderDown},null,8,["icon-name"])]),ne(p("div",Hr,[(c(!0),_(te,null,Ae(s(y),(E,q)=>(c(),_("div",{key:q,class:"user-operate-item",onClick:fe=>E.func(e.userInfo)},Y(E.title),9,zr))),128))],512),[[re,f.value]])])]))}});const Kr=N({__name:"index",props:{userInfo:null},setup(e){const t=k(!1);function o(){t.value=!0}function n(){t.value=!1}return(a,u)=>e.userInfo.userId.indexOf("share_")<0?(c(),_("div",{key:0,class:"member-item-container",onMouseenter:o,onMouseleave:n},[b(Or,{"user-info":e.userInfo,"show-member-control":t.value},null,8,["user-info","show-member-control"]),t.value?(c(),x(qr,{key:0,"user-info":e.userInfo},null,8,["user-info"])):B("",!0)],32)):B("",!0)}});const Wr={class:"manage-member-container"},Gr={key:0,class:"apply-on-stage-info"},Yr={class:"apply-info"},Qr={class:"global-setting"},Xr={class:"setting-item"},Jr={class:"item-left-section"},Zr=p("span",{class:"setting-name"},"\u7981\u8A00\u6240\u6709\u4EBA",-1),el={class:"item-right-section"},tl={class:"setting-item"},ol={class:"item-left-section"},nl=p("span",{class:"setting-name"},"\u7981\u753B\u6240\u6709\u4EBA",-1),sl={class:"item-right-section"},al=p("div",{class:"divide-line"},null,-1),ul={class:"member-list-container"},il={class:"member-list-header"},rl=he("\u6210\u5458\u5217\u8868"),ll={class:"member-count"},cl={class:"member-list-content"},dl=N({__name:"index",setup(e){const t=Z(),o=Me(),{userList:n,userNumber:a,applyToAnchorList:u}=Q(o);function i(){t.setShowApplyUserList(!0)}async function r(){const f=!t.isMuteAllAudio;t.setIsMuteAllAudio(f),o.setMuteAllAudio(f),await h.muteAllUsersMicrophone(f)}async function l(){const f=!t.isMuteAllVideo;t.setIsMuteAllVideo(f),o.setMuteAllVideo(f),await h.muteAllUsersCamera(f)}return(f,g)=>{const d=ua;return c(),_("div",Wr,[s(u).length>0?(c(),_("div",Gr,[p("div",Yr,Y(`${s(u)[0].userName||s(u)[0].userId} \u6B63\u5728\u7533\u8BF7\u4E0A\u53F0`),1),p("div",{class:"button",onClick:i},"\u67E5\u770B")])):B("",!0),p("div",Qr,[p("div",Xr,[p("div",Jr,[b(ae,{class:"setting-icon","icon-name":s(G).MicOn,size:"large"},null,8,["icon-name"]),Zr]),p("div",el,[b(d,{value:s(t).isMuteAllAudio,onChange:r},null,8,["value"])])]),p("div",tl,[p("div",ol,[b(ae,{class:"setting-icon","icon-name":s(G).CameraOn,size:"large"},null,8,["icon-name"]),nl]),p("div",sl,[b(d,{value:s(t).isMuteAllVideo,onChange:l},null,8,["value"])])])]),al,p("div",ul,[p("div",il,[rl,p("span",ll,"("+Y(s(a))+"\u4EBA)",1)]),p("div",cl,[(c(!0),_(te,null,Ae(s(n),v=>(c(),x(Kr,{key:v.userId,"user-info":v},null,8,["user-info"]))),128))])])])}}});const fl={class:"sidebar-container"},pl=N({__name:"index",setup(e){const t=Z(),{isSidebarOpen:o,sidebarName:n}=Q(t),a=S(()=>n.value==="chat"?"\u804A\u5929":n.value==="invite"?"\u9080\u8BF7\u6210\u5458":n.value==="more"?"\u8054\u7CFB\u6211\u4EEC":n.value==="manage-member"?"\u6210\u5458\u7BA1\u7406":"");function u(i){t.setSidebarOpenStatus(!1),t.setSidebarName(""),i()}return(i,r)=>{const l=On;return c(),_("div",fl,[b(l,{modelValue:s(o),"onUpdate:modelValue":r[0]||(r[0]=f=>ro(o)?o.value=f:null),"custom-class":"custom-element-class",modal:!1,title:s(a),direction:"rtl","before-close":u,size:480},{default:D(()=>[s(n)=="chat"?(c(),x(hr,{key:0})):B("",!0),s(n)=="invite"?(c(),x(Br,{key:1})):B("",!0),s(n)=="more"?(c(),x(Fr,{key:2})):B("",!0),s(n)=="manage-member"?(c(),x(dl,{key:3})):B("",!0)]),_:1},8,["modelValue","title"])])}}});const ml=e=>(We("data-v-782a4938"),e=e(),Ge(),e),vl={key:0,class:"setting-dialog"},gl={class:"dialog-tabs"},hl=ml(()=>p("span",{class:"dialog-title"},"\u8BBE\u7F6E",-1)),_l=["onClick"],yl={class:"dialog-content"},bl=N({__name:"index",setup(e){const t=Z(),{showSettingDialog:o,activeSettingTab:n}=Q(t),a=[{label:"\u58F0\u97F3\u8BBE\u7F6E",value:"audio"},{label:"\u6444\u50CF\u5934\u8BBE\u7F6E",value:"video"}];function u(r){t.setActiveSettingTab(r)}function i(){t.setShowSettingDialog(!1)}return(r,l)=>s(o)?(c(),_("div",vl,[p("div",gl,[hl,(c(),_(te,null,Ae(a,(f,g)=>p("div",{key:g,class:w(["tabs-title",`${s(n)===f.value?"active":""}`]),onClick:d=>u(f.value)},Y(f.label),11,_l)),64))]),p("div",yl,[s(n)==="audio"?(c(),x(Io,{key:0,mode:s(Zt).DETAIL},null,8,["mode"])):B("",!0),s(n)==="video"?(c(),x(Bo,{key:1,mode:s(Zt).DETAIL},null,8,["mode"])):B("",!0)]),b(ae,{class:"close-icon","icon-name":"close",size:"medium",onClick:i})])):B("",!0)}});const El=se(bl,[["__scopeId","data-v-782a4938"]]),Cl=N({__name:"index",emits:["onLogOut","onCreateRoom","onEnterRoom","onRoomExit","onRoomDestroy","onKickOff"],setup(e,{expose:t,emit:o}){t({init:U,createRoom:T,enterRoom:A});const n="[Room]",a=Z(),u=Me(),i=Kt(),{sdkAppId:r}=Q(a),l=k(),f=k(!0),g=k();function d(){f.value=!1}const v=Nu(d,5e3),C=Ou(v,1e3);ie(()=>{var E,q,fe,Se;(E=g.value)==null||E.addEventListener("mouseenter",()=>{f.value=!0,v()}),(q=g.value)==null||q.addEventListener("click",()=>{f.value=!0,v()},!1),(fe=g.value)==null||fe.addEventListener("mousemove",()=>{f.value=!0,C()}),(Se=g.value)==null||Se.addEventListener("mouseleave",()=>{f.value=!1})}),Re(()=>{var E,q,fe,Se;(E=g.value)==null||E.removeEventListener("mouseenter",()=>{f.value=!0,v()}),(q=g.value)==null||q.removeEventListener("click",()=>{f.value=!0,v()},!1),(fe=g.value)==null||fe.removeEventListener("mousemove",()=>{f.value=!0,C()}),(Se=g.value)==null||Se.removeEventListener("mouseleave",()=>{f.value=!1})});async function U(E){a.setBasicInfo(E),u.setLocalUser(E);const{sdkAppId:q,userId:fe,userSig:Se,userName:dt,userAvatar:St}=E;await h.login(q,fe,Se),h.updateMyProfile({nick:dt,avatar:St||""})}async function T(E,q=Ht.FREE_SPEECH,fe){a.setRoomId(E),a.setRole(oe.MASTER),ee.debug(`${n}createRoom:`,E,q,fe),await h.createRoom(E,q);const Se=await h.getRoomInfo();a.setRoomInfo(Se),u.setRoomParam(fe),o("onCreateRoom",{code:0,message:"create room success"}),Fe.reportEvent({name:"createRoom",ext1:"createRoom-success"})}async function A(E,q){a.setRoomId(E),ee.debug(`${n}enterRoom:`,E,q),await h.enterRoom(E);const fe=await h.getRoomInfo();a.setRoomInfo(fe),u.setRoomParam(q),o("onEnterRoom",{code:0,message:"enter room success"}),Fe.reportEvent({name:"enterRoom",ext1:"enterRoom-success"})}const m=E=>{u.setAudioVolume(E)},F=E=>{a.setLocalQuality(E.quality)},I=E=>{a.setStatistics(E)},M=E=>{i.updateMessageList(E)};function V(){a.reset(),i.reset(),u.reset()}const y=()=>{V(),o("onLogOut")},O=E=>{V(),o("onRoomDestroy",E)},j=E=>{V(),o("onRoomExit",E)},P=E=>{if(E.muteType===at.MasterMuteAll){const q=E.mute?"\u4E3B\u6301\u4EBA\u5DF2\u5F00\u542F\u5168\u4F53\u9759\u97F3":"\u4E3B\u6301\u4EBA\u5DF2\u89E3\u9664\u5168\u4F53\u9759\u97F3";ce({type:"warning",message:q,duration:ge.NORMAL}),a.setIsMuteAllAudio(E.mute),E.mute&&(u.setIsLocalAudioMuted(!0),h.muteLocalMicrophone(!0)),a.setCanControlSelfAudio(!E.mute)}if(E.muteType===at.MasterMuteCurrentUser){const q=E.mute?"\u4E3B\u6301\u4EBA\u5DF2\u5173\u95ED\u60A8\u7684\u9EA6\u514B\u98CE":"\u4E3B\u6301\u4EBA\u5DF2\u5141\u8BB8\u60A8\u5F00\u542F\u9EA6\u514B\u98CE";ce({type:"warning",message:q,duration:ge.NORMAL}),E.mute?(u.setIsLocalAudioMuted(!0),h.muteLocalMicrophone(!0),a.setCanControlSelfAudio(!a.isMuteAllAudio)):a.setCanControlSelfAudio(!0)}},le=E=>{if(E.muteType===at.MasterMuteAll){a.setIsMuteAllVideo(E.mute);const q=E.mute?"\u4E3B\u6301\u4EBA\u5DF2\u5F00\u542F\u5168\u4F53\u7981\u753B":"\u4E3B\u6301\u4EBA\u5DF2\u89E3\u9664\u5168\u4F53\u7981\u753B";ce({type:"warning",message:q,duration:ge.NORMAL}),E.mute&&(u.setIsLocalVideoMuted(!0),h.stopCameraPreview()),a.setCanControlSelfVideo(!E.mute)}if(E.muteType===at.MasterMuteCurrentUser){const q=E.mute?"\u4E3B\u6301\u4EBA\u5DF2\u5173\u95ED\u60A8\u7684\u6444\u50CF\u5934":"\u4E3B\u6301\u4EBA\u5DF2\u5141\u8BB8\u4F60\u5F00\u542F\u6444\u50CF\u5934";ce({type:"warning",message:q,duration:ge.NORMAL}),E.mute?(u.setIsLocalVideoMuted(!0),h.stopCameraPreview(),a.setCanControlSelfVideo(!a.isMuteAllVideo)):a.setCanControlSelfVideo(!0)}},Ee=E=>{const q=E.mute?"\u60A8\u88AB\u4E3B\u6301\u4EBA\u7981\u6B62\u6587\u5B57\u804A\u5929":"\u60A8\u88AB\u4E3B\u6301\u4EBA\u5141\u8BB8\u6587\u5B57\u804A\u5929";ce({type:"warning",message:q,duration:ge.NORMAL}),E.muteType===at.MasterMuteCurrentUser&&i.setIsMuteChatByMater(E.mute)},Te=async()=>{try{const E=await h.exitRoom();await h.logout(),ee.log(`${n}leaveRoom:`,E),V(),To.alert("\u88AB\u4E3B\u6301\u4EBA\u8E22\u51FA\u623F\u95F4","\u901A\u77E5",{confirmButtonText:"\u786E\u8BA4",callback:async()=>{o("onKickOff",{code:0,message:""})}})}catch(E){ee.error(`${n}onUserKickOff error:`,E)}};function $(){a.isMaster||h.exitRoom()}function W(){$()}return ie(async()=>{h.enableAudioVolumeEvaluation(100),h.on(L.onUserVoiceVolume,m),h.on(L.onNetworkQuality,F),h.on(L.onStatistics,I),h.on(L.onReceiveChatMessage,M),h.on(L.onMicrophoneMuted,P),h.on(L.onCameraMuted,le),h.on(L.onUserChatRoomMuted,Ee),h.on(L.onUserKickOff,Te),window.addEventListener("beforeunload",W)}),Re(()=>{$(),h.off(L.onUserVoiceVolume,m),h.off(L.onNetworkQuality,F),h.off(L.onStatistics,I),h.off(L.onReceiveChatMessage,M),h.off(L.onMicrophoneMuted,P),h.off(L.onCameraMuted,le),h.off(L.onUserChatRoomMuted,Ee),h.off(L.onUserKickOff,Te),window.removeEventListener("beforeunload",W)}),J(r,E=>{E&&(Fe.setSdkAppId(E),Fe.reportEvent({name:"loaded",ext1:"loaded-success"}))}),(E,q)=>(c(),_("div",{id:"roomContainer",ref_key:"roomRef",ref:g,class:"tui-room"},[ne(b(fu,{class:"header",onLogOut:y},null,512),[[re,f.value]]),b(ku,{ref_key:"roomContentRef",ref:l,"show-room-tool":f.value,class:"content"},null,8,["show-room-tool"]),ne(b(qi,{class:"footer",onOnRoomDestroy:O,onOnRoomExit:j},null,512),[[re,f.value]]),b(pl),b(El)],512))}});const Bl=N({__name:"room",setup(e){var v;const t=an(),o=sessionStorage.getItem("tuiRoom-roomInfo"),n=sessionStorage.getItem("tuiRoom-userInfo"),a=(v=t.query)==null?void 0:v.roomId;(!a||!o)&&ft.push({path:"home"});const u=k();ie(async()=>{var O,j,P;const{action:C,roomMode:U,roomParam:T}=JSON.parse(o),{sdkAppId:A,userId:m,userSig:F,shareUserId:I,shareUserSig:M,userName:V,userAvatar:y}=JSON.parse(n);await((O=u.value)==null?void 0:O.init({sdkAppId:A,userId:m,userSig:F,userName:V,userAvatar:y,shareUserId:I,shareUserSig:M})),C==="createRoom"?await((j=u.value)==null?void 0:j.createRoom(Number(a),U,T)):C==="enterRoom"&&await((P=u.value)==null?void 0:P.enterRoom(Number(a),T))});function i(){}function r(C){console.debug("onEnterRoom:",C)}function l(C){console.debug("onCreateRoom:",C)}const f=C=>{console.debug("onRoomDestroy:",C),ft.replace({path:"/home",query:{username:t.query.username}})},g=C=>{console.debug("onRoomExit:",C),ft.replace({path:"/home",query:{username:t.query.username}})},d=C=>{console.debug("onKickOff:",C),ft.replace({path:"/home",query:{username:t.query.username}})};return(C,U)=>(c(),x(Cl,{ref_key:"TUIRoomRef",ref:u,onOnLogOut:i,onOnCreateRoom:r,onOnEnterRoom:l,onOnRoomExit:g,onOnRoomDestroy:f,onOnKickOff:d},null,512))}});export{Bl as default};
